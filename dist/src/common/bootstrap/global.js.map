{"version":3,"sources":["../../../../src/common/bootstrap/global.js"],"names":["global","generateVerificationCode","Math","floor","random","generateUid","str","ck","i","charAt","checkLogin","_this","cookie","delayAction","timeout","setTimeout","resolve"],"mappings":";;;;;;;;AAAA;;;;;AAKA;;;;;;;;AAQAA,OAAOC,wBAAP,GAAkC,YAAY;AAC7C,QAAOC,KAAKC,KAAL,CAAWD,KAAKE,MAAL,KAAc,MAAd,GAAuB,MAAlC,CAAP;AACA,CAFD;;AAIAJ,OAAOK,WAAP,GAAqB,YAAY;AAChC,KAAIC,MAAM,+DAAV;AACA,KAAIC,KAAK,EAAT;AACA,MAAI,IAAIC,IAAE,CAAV,EAAYA,IAAE,EAAd,EAAiBA,GAAjB,EAAqB;AACpBD,QAAMD,IAAIG,MAAJ,CAAWP,KAAKC,KAAL,CAAWD,KAAKE,MAAL,KAAc,EAAzB,CAAX,CAAN;AACA;AACD,QAAOG,EAAP;AACA,CAPD;;AASAP,OAAOU,UAAP,GAAoB,UAAUC,KAAV,EAAiB;AACpC,KAAGA,MAAMC,MAAN,CAAa,KAAb,CAAH,EAAuB;AACtB,SAAO,IAAP;AACA,EAFD,MAEO;AACN,SAAO,KAAP;AACA;AACD,CAND;;AAQAZ,OAAOa,WAAP,GAAqB,UAAUC,OAAV,EAAmB;AACvCC,YAAW,YAAY;AACtB,SAAO,sBAAY,mBAAW;AAC7BC,WAAQ,IAAR;AACA,GAFM,CAAP;AAGA,EAJD,EAIGF,OAJH;AAKA,CAND","file":"global.js","sourcesContent":["/**\n * this file will be loaded before server started\n * you can define global functions used in controllers, models, templates\n */\n\n/**\n * use global.xxx to define global functions\n * \n * global.fn1 = function(){\n *     \n * }\n */\n\nglobal.generateVerificationCode = function () {\n\treturn Math.floor(Math.random()*900000 + 100000)\n}\n\nglobal.generateUid = function () {\n\tlet str = 'QWERTYUIOPLKJHGFDSAZXCVBNM123456789qwertyuioplkjhgfdsazxvcbnm'\n\tlet ck = ''\n\tfor(let i=0;i<18;i++){\n\t\tck += str.charAt(Math.floor(Math.random()*61))\n\t}\n\treturn ck\n}\n\nglobal.checkLogin = function (_this) {\n\tif(_this.cookie('uid')){\n\t\treturn true\n\t} else {\n\t\treturn false\n\t}\n}\n\nglobal.delayAction = function (timeout) {\n\tsetTimeout(function () {\n\t\treturn new Promise(resolve => {\n\t\t\tresolve(true)\n\t\t})\n\t}, timeout)\n}"]}
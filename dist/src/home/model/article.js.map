{"version":3,"sources":["../../../../src/home/model/article.js"],"names":["Article","args","tableName","number","currentPage","order","where","type","page","countSelect","data","id","alias","field","select","articleid","authorid","col","relativeArticles","likes","update","lines","think","model","base"],"mappings":"AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;IACMA,O;;;;;;;;;;+BACY;AAAA;;AAAA,8CAANC,IAAM;AAANA,oBAAM;AAAA;;AACV,wKAAcA,IAAd;AACA,iBAAKC,SAAL,GAAiB,SAAjB;AACH;;;;mGAEqBC,M,EAAQC,W;;;;;;;uCACT,KAAKC,KAAL,CAAW,iBAAX,EAA8BC,KAA9B,CAAoC,EAACC,MAAM,CAAP,EAApC,EAA+CC,IAA/C,CAAoDJ,WAApD,EAAiED,MAAjE,EAAyEM,WAAzE,E;;;AAAbC,oC;iEACGA,I;;;;;;;;;;;;;;;;;;;qGAGcC,E;;;;;;;uCACJ,KAAKC,KAAL,CAAW,SAAX,EACZC,KADY,CACN,kEADM,EAEZP,KAFY,CAEN,EAACK,IAAIA,EAAL,EAFM,EAEIG,MAFJ,E;;;AAAbJ,oC;kEAGGA,I;;;;;;;;;;;;;;;;;;;qGAIaK,S;;;;;;;uCACC,KAAKF,KAAL,CAAW,KAAX,EAAkBP,KAAlB,CAAwB,EAACK,IAAII,SAAL,EAAxB,EAAyCD,MAAzC,E;;;AAAjBE,wC;kEACGA,Q;;;;;;;;;;;;;;;;;;;qGAGoBC,G,EAAKF,S;;;;;;;uCACH,KAAKF,KAAL,CAAW,gCAAX,EAA6CR,KAA7C,CAAmD,iBAAnD,EAAsEC,KAAtE,CAA4E;AACrGW,yCAAKA,GADgG;AAErGN,wCAAI,CAAC,IAAD,EAAOI,SAAP,CAFiG;AAGrGR,0CAAM;AAH+F,iCAA5E,EAI1BO,MAJ0B,E;;;AAAzBI,gD;kEAKGA,gB;;;;;;;;;;;;;;;;;;;qGAGkBH,S,EAAWI,K;;;;;;;uCAClB,KAAKb,KAAL,CAAW,EAACK,IAAII,SAAL,EAAX,EAA4BK,MAA5B,CAAmC,EAACD,OAAOA,KAAR,EAAnC,C;;;AAAdE,qC;kEACGA,K;;;;;;;;;;;;;;;;;;EAnCOC,MAAMC,KAAN,CAAYC,I;;kBAyCnBxB,O","file":"article.js","sourcesContent":["'use strict'\nclass Article extends think.model.base {\n    init(...args) {\n        super.init(...args);\n        this.tableName = 'article';\n    }\n\n    async getPerPageItems(number, currentPage) {\n        let data = await this.order('updateTime DESC').where({type: 0}).page(currentPage, number).countSelect();\n        return data;\n    }\n\n    async getArticleItemByid(id) {\n        let data = await this.alias('article')\n            .field('title, authorAvatar, authorName, content, updatetime, likes, col')\n            .where({id: id}).select();\n        return data;\n\n    }\n\n    async getColByArticleId(articleid) {\n        let authorid = await this.field('col').where({id: articleid}).select();\n        return authorid;\n    }\n\n    async getRelativeArticlesByCol(col, articleid) {\n        let relativeArticles = await this.field('id, title, description, poster').order('updateTime DESC').where({\n            col: col,\n            id: ['!=', articleid],\n            type: 0\n        }).select();\n        return relativeArticles;\n    }\n\n    async updateLikesByArticleId(articleid, likes) {\n        let lines = await this.where({id: articleid}).update({likes: likes});\n        return lines;\n\n    }\n\n}\n\nexport default Article;"]}
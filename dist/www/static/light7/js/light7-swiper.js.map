{"version":3,"sources":["../../../../../www/static/light7/js/light7-swiper.js"],"names":["$","defaults","direction","touchEventsTarget","initialSlide","speed","autoplay","autoplayDisableOnInteraction","autoplayStopOnLast","iOSEdgeSwipeDetection","iOSEdgeSwipeThreshold","freeMode","freeModeMomentum","freeModeMomentumRatio","freeModeMomentumBounce","freeModeMomentumBounceRatio","freeModeSticky","freeModeMinimumVelocity","autoHeight","setWrapperSize","virtualTranslate","effect","coverflow","rotate","stretch","depth","modifier","slideShadows","flip","limitRotation","cube","shadow","shadowOffset","shadowScale","fade","crossFade","parallax","scrollbar","scrollbarHide","scrollbarDraggable","scrollbarSnapOnRelease","keyboardControl","mousewheelControl","mousewheelReleaseOnEdges","mousewheelInvert","mousewheelForceToAxis","mousewheelSensitivity","hashnav","breakpoints","undefined","spaceBetween","slidesPerView","slidesPerColumn","slidesPerColumnFill","slidesPerGroup","centeredSlides","slidesOffsetBefore","slidesOffsetAfter","roundLengths","touchRatio","touchAngle","simulateTouch","shortSwipes","longSwipes","longSwipesRatio","longSwipesMs","followFinger","onlyExternal","threshold","touchMoveStopPropagation","uniqueNavElements","pagination","paginationElement","paginationClickable","paginationHide","paginationBulletRender","paginationProgressRender","paginationFractionRender","paginationCustomRender","paginationType","resistance","resistanceRatio","nextButton","prevButton","watchSlidesProgress","watchSlidesVisibility","grabCursor","preventClicks","preventClicksPropagation","slideToClickedSlide","lazyLoading","lazyLoadingInPrevNext","lazyLoadingInPrevNextAmount","lazyLoadingOnTransitionStart","preloadImages","updateOnImagesReady","loop","loopAdditionalSlides","loopedSlides","control","controlInverse","controlBy","allowSwipeToPrev","allowSwipeToNext","swipeHandler","noSwiping","noSwipingClass","slideClass","slideActiveClass","slideVisibleClass","slideDuplicateClass","slideNextClass","slidePrevClass","wrapperClass","bulletClass","bulletActiveClass","buttonDisabledClass","paginationCurrentClass","paginationTotalClass","paginationHiddenClass","paginationProgressbarClass","observer","observeParents","a11y","prevSlideMessage","nextSlideMessage","firstSlideMessage","lastSlideMessage","paginationBulletMessage","runCallbacksOnInit","Swiper","container","params","initialVirtualTranslate","originalParams","param","nodeType","window","document","Dom7","jQuery","deepParam","def","deepDef","s","classNames","currentBreakpoint","getActiveBreakpoint","breakpoint","points","point","hasOwnProperty","push","sort","a","b","parseInt","i","length","innerWidth","setBreakpoint","breakPointsParams","needsReLoop","destroyLoop","reLoop","swipers","each","swiper","data","support","flexbox","indexOf","transforms3d","touch","wrapper","children","paginationContainer","find","addClass","isHorizontal","rtl","dir","toLowerCase","css","wrongRTL","device","android","join","translate","progress","velocity","lockSwipeToNext","lockSwipeToPrev","lockSwipes","unlockSwipeToNext","unlockSwipeToPrev","unlockSwipes","round","Math","floor","style","cursor","imagesToLoad","imagesLoaded","loadImage","imgElement","src","srcset","checkForComplete","callback","image","onReady","complete","Image","onload","onerror","_onReady","update","emit","currentSrc","getAttribute","autoplayTimeoutId","autoplaying","autoplayPaused","setTimeout","fixLoop","_slideNext","isEnd","_slideTo","stopAutoplay","startAutoplay","internal","clearTimeout","pauseAutoplay","transitionEnd","minTranslate","snapGrid","maxTranslate","updateAutoHeight","slide","slides","eq","activeIndex","newHeight","offsetHeight","updateContainerSize","width","height","clientWidth","clientHeight","size","updateSlidesSize","slidesGrid","slidesSizesGrid","slidePosition","prevSlideSize","index","parseFloat","replace","virtualSize","marginLeft","marginTop","marginRight","marginBottom","slidesNumberEvenToRows","ceil","max","slideSize","slidesPerRow","numFullColumns","newSlideOrderIndex","column","row","attr","outerWidth","outerHeight","swiperSlideSize","abs","newSlidesGrid","updateSlidesOffset","swiperSlideOffset","offsetLeft","offsetTop","updateSlidesProgress","offsetCenter","removeClass","slideProgress","slideBefore","slideAfter","isVisible","updateProgress","translatesDiff","wasBeginning","isBeginning","wasEnd","updateActiveIndex","newActiveIndex","snapIndex","previousIndex","updateClasses","activeSlide","nextSlide","next","prevSlide","prev","current","total","bullets","text","scale","scaleX","scaleY","transform","transition","html","disable","enable","updatePagination","paginationHTML","numberOfBullets","initPagination","updateTranslate","set","forceSetTranslate","newTranslate","min","setWrapperTranslate","translated","controller","spline","slideTo","onResize","forceUpdatePagination","slideChangedBySlideTo","lazy","load","desktopEvents","navigator","pointerEnabled","msPointerEnabled","touchEvents","start","move","end","initEvents","detach","actionDom","action","target","moveCapture","nested","browser","ie","onTouchStart","onTouchMove","onTouchEnd","ios","onClickNext","onEnterKey","onClickPrev","onClickIndex","attachEvents","detachEvents","allowClick","e","preventDefault","animating","stopPropagation","stopImmediatePropagation","slideNext","slidePrev","findElementInEvent","selector","el","is","parents","found","_el","updateClickedSlide","slideFound","clickedSlide","clickedIndex","slideToIndex","realIndex","duplicatedSlides","isTouched","isMoved","allowTouchCallbacks","touchStartTime","isScrolling","currentTranslate","startTranslate","allowThresholdMove","formElements","lastClickTime","Date","now","clickTimeout","velocities","allowMomentumBounce","touches","startX","startY","currentX","currentY","diff","isTouchEvent","startMoving","originalEvent","type","which","targetTouches","pageX","pageY","swipeDirection","activeElement","blur","preventedByNestedSwiper","atan2","PI","ieTouch","getWrapperTranslate","setWrapperTransition","trigger","disableParentSwiper","pow","position","time","getTime","touchEndTime","timeDiff","hasClass","toggleClass","currentPos","lastMoveEvent","pop","velocityEvent","distance","momentumDuration","momentumDistance","newPosition","doBounce","afterBouncePosition","bounceAmount","j","slideReset","onTransitionStart","onTransitionEnd","stopIndex","groupSize","ratio","slideIndex","runCallbacks","setHash","clientLeft","_slidePrev","duration","byController","effects","setTransition","x","y","z","setTranslate","getTranslate","axis","matrix","curTransform","curStyle","transformMatrix","getComputedStyle","WebKitCSSMatrix","webkitTransform","split","map","MozTransform","OTransform","MsTransform","msTransform","getPropertyValue","toString","m41","m42","observers","initObserver","options","ObserverFunc","MutationObserver","WebkitMutationObserver","mutations","forEach","mutation","observe","attributes","childList","characterData","initObservers","containerParents","disconnectObservers","disconnect","createLoop","remove","prependSlides","appendSlides","append","cloneNode","prepend","removeAttr","updatePosition","oldIndex","newIndex","appendSlide","prependSlide","removeSlide","slidesIndexes","indexToRemove","removeAllSlides","offset","tx","ty","slideOpacity","opacity","eventTriggered","triggerEvents","rotateY","rotateX","zIndex","shadowBefore","shadowAfter","wrapperRotate","cubeShadow","slideAngle","tz","shadowAngle","multiplier","sin","cos","scale1","scale2","zFactor","isSafari","isUiWebView","center","slideOffset","offsetMultiplier","translateZ","translateY","translateX","slideTransform","ws","perspectiveOrigin","initialImageLoaded","loadImageInSlide","loadInDuplicate","img","add","_img","background","slideOriginalIndex","originalSlide","duplicatedSlide","amount","spv","maxIndex","minIndex","setDragPosition","sb","pointerPosition","clientX","clientY","track","dragSize","positionMin","moveDivider","positionMax","dragStart","dragTimeout","drag","dragMove","returnValue","dragEnd","enableDraggable","on","disableDraggable","off","trackSize","offsetWidth","divider","display","newPos","newSize","timeout","LinearSpline","lastIndex","i1","i3","l","interpolate","x2","binarySearch","guess","array","val","getInterpolateFunction","c","controlled","controlledTranslate","setControlledTranslate","isArray","setControlledTransition","init","initialized","hash","location","slideHash","handleKeyboard","kc","keyCode","charCode","shiftKey","altKey","ctrlKey","metaKey","nodeName","inView","windowScroll","left","pageXOffset","top","pageYOffset","windowWidth","windowHeight","innerHeight","swiperOffset","scrollLeft","swiperCoord","disableKeyboardControl","enableKeyboardControl","mousewheel","event","lastScrollTime","WheelEvent","onmousewheel","handleMousewheel","we","delta","rtlFactor","wheelDeltaX","wheelDeltaY","detail","deltaX","deltaY","disableMousewheelControl","enableMousewheelControl","setParallaxTransform","p","pX","pY","parallaxDuration","_plugins","plugin","plugins","callPlugins","eventName","arguments","normalizeEventName","toUpperCase","substring","emitterEventListeners","handler","splice","once","_handler","makeFocusable","$el","addRole","role","addLabel","label","notify","click","liveRegion","message","notification","bullet","destroy","cleanupStyles","deleteInstance","prototype","ua","userAgent","test","arr","Object","apply","msMaxTouchPoints","maxTouchPoints","match","ipad","ipod","iphone","Modernizr","DocumentTouch","csstransforms3d","div","createElement","styles","addLibraryPlugin","lib","fn","firstInstance","swiperDomPlugins","domLib","Zepto","events","dom","fireCallBack","call","elStyle","webkitTransitionDuration","MsTransitionDuration","msTransitionDuration","MozTransitionDuration","OTransitionDuration","transitionDuration","initSwiper","pageContainer","page","body","dataset","reinitSwiper","sliders","sliderInstance","PhotoBrowser","pb","navbarTemplate","ofText","toolbarTemplate","template","theme","photoTemplate","photoLazyTemplate","captionsTheme","captionsTemplate","captionTemplate","objectTemplate","photosHtml","captionsHtml","photos","photo","thisTemplate","String","url","caption","htmlTemplate","navbar","toolbar","openIndex","opened","open","popup","onPopupClose","onPageBeforeInit","onPageBeforeRemove","view","mainView","loadContent","layout","onOpen","close","swiperContainer","onClose","animationEnd","swiperWrapper","gestureSlide","gestureImg","gestureImgWrap","name","onSliderTransitionStart","captions","captionsContainer","captionIndex","previousSlideVideo","pause","onSlideChangeStart","onSliderTransitionEnd","zoom","currentScale","onSlideChangeEnd","sliderSettings","indexButton","onTap","onClick","exposition","toggleExposition","onDoubleTap","toggleZoom","onLazyImageLoad","onLazyImageReady","swipeToClose","swipeCloseTouchStart","onTouchMoveOpposite","swipeCloseTouchMove","swipeCloseTouchEnd","onSlideGestureStart","onSlideGestureChange","onSlideGestureEnd","onSlideTouchStart","onSlideTouchMove","onSlideTouchEnd","exposed","expositionHideCaptions","enableExposition","disableExposition","isScaling","parent","maxZoom","minZoom","imageIsTouched","imageIsMoved","imageCurrentX","imageCurrentY","imageMinX","imageMinY","imageMaxX","imageMaxY","imageWidth","imageHeight","imageTouchesStart","imageTouchesCurrent","imageStartX","imageStartY","velocityPrevPositionX","velocityPrevTime","velocityX","velocityPrevPositionY","velocityY","os","getTouchPosition","scaledWidth","scaledHeight","momentumDurationX","momentumDurationY","momentumDistanceX","newPositionX","momentumDistanceY","newPositionY","swipeToCloseIsTouched","allowSwipeToClose","swipeToCloseDiff","swipeToCloseStart","swipeToCloseCurrent","swipeToCloseStarted","swipeToCloseActiveSlide","swipeToCloseTimeStart","closeModal","onSwipeToClose","backLinkText","photoBrowser","extend"],"mappings":"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","file":"light7-swiper.js","sourcesContent":["/*!\n * =====================================================\n * light7 V0.4.3 - http://light7.org/\n *\n * =====================================================\n */\n/**\n * Swiper 3.3.1\n * Most modern mobile touch slider and framework with hardware accelerated transitions\n * \n * http://www.idangero.us/swiper/\n * \n * Copyright 2016, Vladimir Kharlampidi\n * The iDangero.us\n * http://www.idangero.us/\n * \n * Licensed under MIT\n * \n * Released on: February 7, 2016\n */\n/* global $:true, jQuery: true, Dom7:true, Modernizr: true, DocumentTouch: true */\n/* jshint unused:false */\n/*jshint forin: false */\n/*jshint bitwise: false*/\n(function ($) {\n    'use strict';\n    /*===========================\n    Swiper\n    ===========================*/\n    var defaults = {\n      direction: 'horizontal',\n      touchEventsTarget: 'container',\n      initialSlide: 0,\n      speed: 300,\n      // autoplay\n      autoplay: false,\n      autoplayDisableOnInteraction: true,\n      autoplayStopOnLast: false,\n      // To support iOS's swipe-to-go-back gesture (when being used in-app, with UIWebView).\n      iOSEdgeSwipeDetection: false,\n      iOSEdgeSwipeThreshold: 20,\n      // Free mode\n      freeMode: false,\n      freeModeMomentum: true,\n      freeModeMomentumRatio: 1,\n      freeModeMomentumBounce: true,\n      freeModeMomentumBounceRatio: 1,\n      freeModeSticky: false,\n      freeModeMinimumVelocity: 0.02,\n      // Autoheight\n      autoHeight: false,\n      // Set wrapper width\n      setWrapperSize: false,\n      // Virtual Translate\n      virtualTranslate: false,\n      // Effects\n      effect: 'slide', // 'slide' or 'fade' or 'cube' or 'coverflow' or 'flip'\n      coverflow: {\n        rotate: 50,\n        stretch: 0,\n        depth: 100,\n        modifier: 1,\n        slideShadows : true\n      },\n      flip: {\n        slideShadows : true,\n        limitRotation: true\n      },\n      cube: {\n        slideShadows: true,\n        shadow: true,\n        shadowOffset: 20,\n        shadowScale: 0.94\n      },\n      fade: {\n        crossFade: false\n      },\n      // Parallax\n      parallax: false,\n      // Scrollbar\n      scrollbar: null,\n      scrollbarHide: true,\n      scrollbarDraggable: false,\n      scrollbarSnapOnRelease: false,\n      // Keyboard Mousewheel\n      keyboardControl: false,\n      mousewheelControl: false,\n      mousewheelReleaseOnEdges: false,\n      mousewheelInvert: false,\n      mousewheelForceToAxis: false,\n      mousewheelSensitivity: 1,\n      // Hash Navigation\n      hashnav: false,\n      // Breakpoints\n      breakpoints: undefined,\n      // Slides grid\n      spaceBetween: 0,\n      slidesPerView: 1,\n      slidesPerColumn: 1,\n      slidesPerColumnFill: 'column',\n      slidesPerGroup: 1,\n      centeredSlides: false,\n      slidesOffsetBefore: 0, // in px\n      slidesOffsetAfter: 0, // in px\n      // Round length\n      roundLengths: false,\n      // Touches\n      touchRatio: 1,\n      touchAngle: 45,\n      simulateTouch: true,\n      shortSwipes: true,\n      longSwipes: true,\n      longSwipesRatio: 0.5,\n      longSwipesMs: 300,\n      followFinger: true,\n      onlyExternal: false,\n      threshold: 0,\n      touchMoveStopPropagation: true,\n      // Unique Navigation Elements\n      uniqueNavElements: true,\n      // Pagination\n      pagination: null,\n      paginationElement: 'span',\n      paginationClickable: false,\n      paginationHide: false,\n      paginationBulletRender: null,\n      paginationProgressRender: null,\n      paginationFractionRender: null,\n      paginationCustomRender: null,\n      paginationType: 'bullets', // 'bullets' or 'progress' or 'fraction' or 'custom'\n      // Resistance\n      resistance: true,\n      resistanceRatio: 0.85,\n      // Next/prev buttons\n      nextButton: null,\n      prevButton: null,\n      // Progress\n      watchSlidesProgress: false,\n      watchSlidesVisibility: false,\n      // Cursor\n      grabCursor: false,\n      // Clicks\n      preventClicks: true,\n      preventClicksPropagation: true,\n      slideToClickedSlide: false,\n      // Lazy Loading\n      lazyLoading: false,\n      lazyLoadingInPrevNext: false,\n      lazyLoadingInPrevNextAmount: 1,\n      lazyLoadingOnTransitionStart: false,\n      // Images\n      preloadImages: true,\n      updateOnImagesReady: true,\n      // loop\n      loop: false,\n      loopAdditionalSlides: 0,\n      loopedSlides: null,\n      // Control\n      control: undefined,\n      controlInverse: false,\n      controlBy: 'slide', //or 'container'\n      // Swiping/no swiping\n      allowSwipeToPrev: true,\n      allowSwipeToNext: true,\n      swipeHandler: null, //'.swipe-handler',\n      noSwiping: true,\n      noSwipingClass: 'swiper-no-swiping',\n      // NS\n      slideClass: 'swiper-slide',\n      slideActiveClass: 'swiper-slide-active',\n      slideVisibleClass: 'swiper-slide-visible',\n      slideDuplicateClass: 'swiper-slide-duplicate',\n      slideNextClass: 'swiper-slide-next',\n      slidePrevClass: 'swiper-slide-prev',\n      wrapperClass: 'swiper-wrapper',\n      bulletClass: 'swiper-pagination-bullet',\n      bulletActiveClass: 'swiper-pagination-bullet-active',\n      buttonDisabledClass: 'swiper-button-disabled',\n      paginationCurrentClass: 'swiper-pagination-current',\n      paginationTotalClass: 'swiper-pagination-total',\n      paginationHiddenClass: 'swiper-pagination-hidden',\n      paginationProgressbarClass: 'swiper-pagination-progressbar',\n      // Observer\n      observer: false,\n      observeParents: false,\n      // Accessibility\n      a11y: false,\n      prevSlideMessage: 'Previous slide',\n      nextSlideMessage: 'Next slide',\n      firstSlideMessage: 'This is the first slide',\n      lastSlideMessage: 'This is the last slide',\n      paginationBulletMessage: 'Go to slide {{index}}',\n      // Callbacks\n      runCallbacksOnInit: true\n      /*\n         Callbacks:\n         onInit: function (swiper)\n         onDestroy: function (swiper)\n         onClick: function (swiper, e)\n         onTap: function (swiper, e)\n         onDoubleTap: function (swiper, e)\n         onSliderMove: function (swiper, e)\n         onSlideChangeStart: function (swiper)\n         onSlideChangeEnd: function (swiper)\n         onTransitionStart: function (swiper)\n         onTransitionEnd: function (swiper)\n         onImagesReady: function (swiper)\n         onProgress: function (swiper, progress)\n         onTouchStart: function (swiper, e)\n         onTouchMove: function (swiper, e)\n         onTouchMoveOpposite: function (swiper, e)\n         onTouchEnd: function (swiper, e)\n         onReachBeginning: function (swiper)\n         onReachEnd: function (swiper)\n         onSetTransition: function (swiper, duration)\n         onSetTranslate: function (swiper, translate)\n         onAutoplayStart: function (swiper)\n         onAutoplayStop: function (swiper),\n         onLazyImageLoad: function (swiper, slide, image)\n         onLazyImageReady: function (swiper, slide, image)\n         */\n\n    };\n    var Swiper = function (container, params) {\n        if (!(this instanceof Swiper)) return new Swiper(container, params);\n\n\n        var initialVirtualTranslate = params && params.virtualTranslate;\n        \n        params = params || {};\n        var originalParams = {};\n        for (var param in params) {\n            if (typeof params[param] === 'object' && params[param] !== null && !(params[param].nodeType || params[param] === window || params[param] === document || (typeof Dom7 !== 'undefined' && params[param] instanceof Dom7) || (typeof jQuery !== 'undefined' && params[param] instanceof jQuery))) {\n                originalParams[param] = {};\n                for (var deepParam in params[param]) {\n                    originalParams[param][deepParam] = params[param][deepParam];\n                }\n            }\n            else {\n                originalParams[param] = params[param];\n            }\n        }\n        for (var def in defaults) {\n            if (typeof params[def] === 'undefined') {\n                params[def] = defaults[def];\n            }\n            else if (typeof params[def] === 'object') {\n                for (var deepDef in defaults[def]) {\n                    if (typeof params[def][deepDef] === 'undefined') {\n                        params[def][deepDef] = defaults[def][deepDef];\n                    }\n                }\n            }\n        }\n        \n        // Swiper\n        var s = this;\n        \n        // Params\n        s.params = params;\n        s.originalParams = originalParams;\n        \n        // Classname\n        s.classNames = [];\n        s.$ = $;\n        \n        /*=========================\n          Breakpoints\n          ===========================*/\n        s.currentBreakpoint = undefined;\n        s.getActiveBreakpoint = function () {\n            //Get breakpoint for window width\n            if (!s.params.breakpoints) return false;\n            var breakpoint = false;\n            var points = [], point;\n            for ( point in s.params.breakpoints ) {\n                if (s.params.breakpoints.hasOwnProperty(point)) {\n                    points.push(point);\n                }\n            }\n            points.sort(function (a, b) {\n                return parseInt(a, 10) > parseInt(b, 10);\n            });\n            for (var i = 0; i < points.length; i++) {\n                point = points[i];\n                if (point >= window.innerWidth && !breakpoint) {\n                    breakpoint = point;\n                }\n            }\n            return breakpoint || 'max';\n        };\n        s.setBreakpoint = function () {\n            //Set breakpoint for window width and update parameters\n            var breakpoint = s.getActiveBreakpoint();\n            if (breakpoint && s.currentBreakpoint !== breakpoint) {\n                var breakPointsParams = breakpoint in s.params.breakpoints ? s.params.breakpoints[breakpoint] : s.originalParams;\n                var needsReLoop = s.params.loop && (breakPointsParams.slidesPerView !== s.params.slidesPerView);\n                for ( var param in breakPointsParams ) {\n                    s.params[param] = breakPointsParams[param];\n                }\n                s.currentBreakpoint = breakpoint;\n                if(needsReLoop && s.destroyLoop) {\n                    s.reLoop(true);\n                }\n            }\n        };\n        // Set breakpoint on load\n        if (s.params.breakpoints) {\n            s.setBreakpoint();\n        }\n        \n        /*=========================\n          Preparation - Define Container, Wrapper and Pagination\n          ===========================*/\n        s.container = $(container);\n        if (s.container.length === 0) return;\n        if (s.container.length > 1) {\n            var swipers = [];\n            s.container.each(function () {\n                var container = this;\n                swipers.push(new Swiper(this, params));\n            });\n            return swipers;\n        }\n        \n        // Save instance in container HTML Element and in data\n        s.container[0].swiper = s;\n        s.container.data('swiper', s);\n        \n        s.classNames.push('swiper-container-' + s.params.direction);\n        \n        if (s.params.freeMode) {\n            s.classNames.push('swiper-container-free-mode');\n        }\n        if (!s.support.flexbox) {\n            s.classNames.push('swiper-container-no-flexbox');\n            s.params.slidesPerColumn = 1;\n        }\n        if (s.params.autoHeight) {\n            s.classNames.push('swiper-container-autoheight');\n        }\n        // Enable slides progress when required\n        if (s.params.parallax || s.params.watchSlidesVisibility) {\n            s.params.watchSlidesProgress = true;\n        }\n        // Coverflow / 3D\n        if (['cube', 'coverflow', 'flip'].indexOf(s.params.effect) >= 0) {\n            if (s.support.transforms3d) {\n                s.params.watchSlidesProgress = true;\n                s.classNames.push('swiper-container-3d');\n            }\n            else {\n                s.params.effect = 'slide';\n            }\n        }\n        if (s.params.effect !== 'slide') {\n            s.classNames.push('swiper-container-' + s.params.effect);\n        }\n        if (s.params.effect === 'cube') {\n            s.params.resistanceRatio = 0;\n            s.params.slidesPerView = 1;\n            s.params.slidesPerColumn = 1;\n            s.params.slidesPerGroup = 1;\n            s.params.centeredSlides = false;\n            s.params.spaceBetween = 0;\n            s.params.virtualTranslate = true;\n            s.params.setWrapperSize = false;\n        }\n        if (s.params.effect === 'fade' || s.params.effect === 'flip') {\n            s.params.slidesPerView = 1;\n            s.params.slidesPerColumn = 1;\n            s.params.slidesPerGroup = 1;\n            s.params.watchSlidesProgress = true;\n            s.params.spaceBetween = 0;\n            s.params.setWrapperSize = false;\n            if (typeof initialVirtualTranslate === 'undefined') {\n                s.params.virtualTranslate = true;\n            }\n        }\n        \n        // Grab Cursor\n        if (s.params.grabCursor && s.support.touch) {\n            s.params.grabCursor = false;\n        }\n        \n        // Wrapper\n        s.wrapper = s.container.children('.' + s.params.wrapperClass);\n        \n        // Pagination\n        if (s.params.pagination) {\n            s.paginationContainer = $(s.params.pagination);\n            if (s.params.uniqueNavElements && typeof s.params.pagination === 'string' && s.paginationContainer.length > 1 && s.container.find(s.params.pagination).length === 1) {\n                s.paginationContainer = s.container.find(s.params.pagination);\n            }\n        \n            if (s.params.paginationType === 'bullets' && s.params.paginationClickable) {\n                s.paginationContainer.addClass('swiper-pagination-clickable');\n            }\n            else {\n                s.params.paginationClickable = false;\n            }\n            s.paginationContainer.addClass('swiper-pagination-' + s.params.paginationType);\n        }\n        // Next/Prev Buttons\n        if (s.params.nextButton || s.params.prevButton) {\n            if (s.params.nextButton) {\n                s.nextButton = $(s.params.nextButton);\n                if (s.params.uniqueNavElements && typeof s.params.nextButton === 'string' && s.nextButton.length > 1 && s.container.find(s.params.nextButton).length === 1) {\n                    s.nextButton = s.container.find(s.params.nextButton);\n                }\n            }\n            if (s.params.prevButton) {\n                s.prevButton = $(s.params.prevButton);\n                if (s.params.uniqueNavElements && typeof s.params.prevButton === 'string' && s.prevButton.length > 1 && s.container.find(s.params.prevButton).length === 1) {\n                    s.prevButton = s.container.find(s.params.prevButton);\n                }\n            }\n        }\n        \n        // Is Horizontal\n        s.isHorizontal = function () {\n            return s.params.direction === 'horizontal';\n        };\n        // s.isH = isH;\n        \n        // RTL\n        s.rtl = s.isHorizontal() && (s.container[0].dir.toLowerCase() === 'rtl' || s.container.css('direction') === 'rtl');\n        if (s.rtl) {\n            s.classNames.push('swiper-container-rtl');\n        }\n        \n        // Wrong RTL support\n        if (s.rtl) {\n            s.wrongRTL = s.wrapper.css('display') === '-webkit-box';\n        }\n        \n        // Columns\n        if (s.params.slidesPerColumn > 1) {\n            s.classNames.push('swiper-container-multirow');\n        }\n        \n        // Check for Android\n        if (s.device.android) {\n            s.classNames.push('swiper-container-android');\n        }\n        \n        // Add classes\n        s.container.addClass(s.classNames.join(' '));\n        \n        // Translate\n        s.translate = 0;\n        \n        // Progress\n        s.progress = 0;\n        \n        // Velocity\n        s.velocity = 0;\n        \n        /*=========================\n          Locks, unlocks\n          ===========================*/\n        s.lockSwipeToNext = function () {\n            s.params.allowSwipeToNext = false;\n        };\n        s.lockSwipeToPrev = function () {\n            s.params.allowSwipeToPrev = false;\n        };\n        s.lockSwipes = function () {\n            s.params.allowSwipeToNext = s.params.allowSwipeToPrev = false;\n        };\n        s.unlockSwipeToNext = function () {\n            s.params.allowSwipeToNext = true;\n        };\n        s.unlockSwipeToPrev = function () {\n            s.params.allowSwipeToPrev = true;\n        };\n        s.unlockSwipes = function () {\n            s.params.allowSwipeToNext = s.params.allowSwipeToPrev = true;\n        };\n        \n        /*=========================\n          Round helper\n          ===========================*/\n        function round(a) {\n            return Math.floor(a);\n        }\n        /*=========================\n          Set grab cursor\n          ===========================*/\n        if (s.params.grabCursor) {\n            s.container[0].style.cursor = 'move';\n            s.container[0].style.cursor = '-webkit-grab';\n            s.container[0].style.cursor = '-moz-grab';\n            s.container[0].style.cursor = 'grab';\n        }\n        /*=========================\n          Update on Images Ready\n          ===========================*/\n        s.imagesToLoad = [];\n        s.imagesLoaded = 0;\n        \n        s.loadImage = function (imgElement, src, srcset, checkForComplete, callback) {\n            var image;\n            function onReady () {\n                if (callback) callback();\n            }\n            if (!imgElement.complete || !checkForComplete) {\n                if (src) {\n                    image = new window.Image();\n                    image.onload = onReady;\n                    image.onerror = onReady;\n                    if (srcset) {\n                        image.srcset = srcset;\n                    }\n                    if (src) {\n                        image.src = src;\n                    }\n                } else {\n                    onReady();\n                }\n        \n            } else {//image already loaded...\n                onReady();\n            }\n        };\n        s.preloadImages = function () {\n            s.imagesToLoad = s.container.find('img');\n            function _onReady() {\n                if (typeof s === 'undefined' || s === null) return;\n                if (s.imagesLoaded !== undefined) s.imagesLoaded++;\n                if (s.imagesLoaded === s.imagesToLoad.length) {\n                    if (s.params.updateOnImagesReady) s.update();\n                    s.emit('onImagesReady', s);\n                }\n            }\n            for (var i = 0; i < s.imagesToLoad.length; i++) {\n                s.loadImage(s.imagesToLoad[i], (s.imagesToLoad[i].currentSrc || s.imagesToLoad[i].getAttribute('src')), (s.imagesToLoad[i].srcset || s.imagesToLoad[i].getAttribute('srcset')), true, _onReady);\n            }\n        };\n        \n        /*=========================\n          Autoplay\n          ===========================*/\n        s.autoplayTimeoutId = undefined;\n        s.autoplaying = false;\n        s.autoplayPaused = false;\n        function autoplay() {\n            s.autoplayTimeoutId = setTimeout(function () {\n                if (s.params.loop) {\n                    s.fixLoop();\n                    s._slideNext();\n                    s.emit('onAutoplay', s);\n                }\n                else {\n                    if (!s.isEnd) {\n                        s._slideNext();\n                        s.emit('onAutoplay', s);\n                    }\n                    else {\n                        if (!params.autoplayStopOnLast) {\n                            s._slideTo(0);\n                            s.emit('onAutoplay', s);\n                        }\n                        else {\n                            s.stopAutoplay();\n                        }\n                    }\n                }\n            }, s.params.autoplay);\n        }\n        s.startAutoplay = function () {\n            if (typeof s.autoplayTimeoutId !== 'undefined') return false;\n            if (!s.params.autoplay) return false;\n            if (s.autoplaying) return false;\n            s.autoplaying = true;\n            s.emit('onAutoplayStart', s);\n            autoplay();\n        };\n        s.stopAutoplay = function (internal) {\n            if (!s.autoplayTimeoutId) return;\n            if (s.autoplayTimeoutId) clearTimeout(s.autoplayTimeoutId);\n            s.autoplaying = false;\n            s.autoplayTimeoutId = undefined;\n            s.emit('onAutoplayStop', s);\n        };\n        s.pauseAutoplay = function (speed) {\n            if (s.autoplayPaused) return;\n            if (s.autoplayTimeoutId) clearTimeout(s.autoplayTimeoutId);\n            s.autoplayPaused = true;\n            if (speed === 0) {\n                s.autoplayPaused = false;\n                autoplay();\n            }\n            else {\n                s.wrapper.transitionEnd(function () {\n                    if (!s) return;\n                    s.autoplayPaused = false;\n                    if (!s.autoplaying) {\n                        s.stopAutoplay();\n                    }\n                    else {\n                        autoplay();\n                    }\n                });\n            }\n        };\n        /*=========================\n          Min/Max Translate\n          ===========================*/\n        s.minTranslate = function () {\n            return (-s.snapGrid[0]);\n        };\n        s.maxTranslate = function () {\n            return (-s.snapGrid[s.snapGrid.length - 1]);\n        };\n        /*=========================\n          Slider/slides sizes\n          ===========================*/\n        s.updateAutoHeight = function () {\n            // Update Height\n            var slide = s.slides.eq(s.activeIndex)[0];\n            if (typeof slide !== 'undefined') {\n                var newHeight = slide.offsetHeight;\n                if (newHeight) s.wrapper.css('height', newHeight + 'px');\n            }\n        };\n        s.updateContainerSize = function () {\n            var width, height;\n            if (typeof s.params.width !== 'undefined') {\n                width = s.params.width;\n            }\n            else {\n                width = s.container[0].clientWidth;\n            }\n            if (typeof s.params.height !== 'undefined') {\n                height = s.params.height;\n            }\n            else {\n                height = s.container[0].clientHeight;\n            }\n            if (width === 0 && s.isHorizontal() || height === 0 && !s.isHorizontal()) {\n                return;\n            }\n        \n            //Subtract paddings\n            width = width - parseInt(s.container.css('padding-left'), 10) - parseInt(s.container.css('padding-right'), 10);\n            height = height - parseInt(s.container.css('padding-top'), 10) - parseInt(s.container.css('padding-bottom'), 10);\n        \n            // Store values\n            s.width = width;\n            s.height = height;\n            s.size = s.isHorizontal() ? s.width : s.height;\n        };\n        \n        s.updateSlidesSize = function () {\n            s.slides = s.wrapper.children('.' + s.params.slideClass);\n            s.snapGrid = [];\n            s.slidesGrid = [];\n            s.slidesSizesGrid = [];\n        \n            var spaceBetween = s.params.spaceBetween,\n                slidePosition = -s.params.slidesOffsetBefore,\n                i,\n                prevSlideSize = 0,\n                index = 0;\n            if (typeof s.size === 'undefined') return;\n            if (typeof spaceBetween === 'string' && spaceBetween.indexOf('%') >= 0) {\n                spaceBetween = parseFloat(spaceBetween.replace('%', '')) / 100 * s.size;\n            }\n        \n            s.virtualSize = -spaceBetween;\n            // reset margins\n            if (s.rtl) s.slides.css({marginLeft: '', marginTop: ''});\n            else s.slides.css({marginRight: '', marginBottom: ''});\n        \n            var slidesNumberEvenToRows;\n            if (s.params.slidesPerColumn > 1) {\n                if (Math.floor(s.slides.length / s.params.slidesPerColumn) === s.slides.length / s.params.slidesPerColumn) {\n                    slidesNumberEvenToRows = s.slides.length;\n                }\n                else {\n                    slidesNumberEvenToRows = Math.ceil(s.slides.length / s.params.slidesPerColumn) * s.params.slidesPerColumn;\n                }\n                if (s.params.slidesPerView !== 'auto' && s.params.slidesPerColumnFill === 'row') {\n                    slidesNumberEvenToRows = Math.max(slidesNumberEvenToRows, s.params.slidesPerView * s.params.slidesPerColumn);\n                }\n            }\n        \n            // Calc slides\n            var slideSize;\n            var slidesPerColumn = s.params.slidesPerColumn;\n            var slidesPerRow = slidesNumberEvenToRows / slidesPerColumn;\n            var numFullColumns = slidesPerRow - (s.params.slidesPerColumn * slidesPerRow - s.slides.length);\n            for (i = 0; i < s.slides.length; i++) {\n                slideSize = 0;\n                var slide = s.slides.eq(i);\n                if (s.params.slidesPerColumn > 1) {\n                    // Set slides order\n                    var newSlideOrderIndex;\n                    var column, row;\n                    if (s.params.slidesPerColumnFill === 'column') {\n                        column = Math.floor(i / slidesPerColumn);\n                        row = i - column * slidesPerColumn;\n                        if (column > numFullColumns || (column === numFullColumns && row === slidesPerColumn-1)) {\n                            if (++row >= slidesPerColumn) {\n                                row = 0;\n                                column++;\n                            }\n                        }\n                        newSlideOrderIndex = column + row * slidesNumberEvenToRows / slidesPerColumn;\n                        slide\n                            .css({\n                                '-webkit-box-ordinal-group': newSlideOrderIndex,\n                                '-moz-box-ordinal-group': newSlideOrderIndex,\n                                '-ms-flex-order': newSlideOrderIndex,\n                                '-webkit-order': newSlideOrderIndex,\n                                'order': newSlideOrderIndex\n                            });\n                    }\n                    else {\n                        row = Math.floor(i / slidesPerRow);\n                        column = i - row * slidesPerRow;\n                    }\n                    slide\n                        .css({\n                            'margin-top': (row !== 0 && s.params.spaceBetween) && (s.params.spaceBetween + 'px')\n                        })\n                        .attr('data-swiper-column', column)\n                        .attr('data-swiper-row', row);\n        \n                }\n                if (slide.css('display') === 'none') continue;\n                if (s.params.slidesPerView === 'auto') {\n                    slideSize = s.isHorizontal() ? slide.outerWidth(true) : slide.outerHeight(true);\n                    if (s.params.roundLengths) slideSize = round(slideSize);\n                }\n                else {\n                    slideSize = (s.size - (s.params.slidesPerView - 1) * spaceBetween) / s.params.slidesPerView;\n                    if (s.params.roundLengths) slideSize = round(slideSize);\n        \n                    if (s.isHorizontal()) {\n                        s.slides[i].style.width = slideSize + 'px';\n                    }\n                    else {\n                        s.slides[i].style.height = slideSize + 'px';\n                    }\n                }\n                s.slides[i].swiperSlideSize = slideSize;\n                s.slidesSizesGrid.push(slideSize);\n        \n        \n                if (s.params.centeredSlides) {\n                    slidePosition = slidePosition + slideSize / 2 + prevSlideSize / 2 + spaceBetween;\n                    if (i === 0) slidePosition = slidePosition - s.size / 2 - spaceBetween;\n                    if (Math.abs(slidePosition) < 1 / 1000) slidePosition = 0;\n                    if ((index) % s.params.slidesPerGroup === 0) s.snapGrid.push(slidePosition);\n                    s.slidesGrid.push(slidePosition);\n                }\n                else {\n                    if ((index) % s.params.slidesPerGroup === 0) s.snapGrid.push(slidePosition);\n                    s.slidesGrid.push(slidePosition);\n                    slidePosition = slidePosition + slideSize + spaceBetween;\n                }\n        \n                s.virtualSize += slideSize + spaceBetween;\n        \n                prevSlideSize = slideSize;\n        \n                index ++;\n            }\n            s.virtualSize = Math.max(s.virtualSize, s.size) + s.params.slidesOffsetAfter;\n            var newSlidesGrid;\n        \n            if (\n                s.rtl && s.wrongRTL && (s.params.effect === 'slide' || s.params.effect === 'coverflow')) {\n                s.wrapper.css({width: s.virtualSize + s.params.spaceBetween + 'px'});\n            }\n            if (!s.support.flexbox || s.params.setWrapperSize) {\n                if (s.isHorizontal()) s.wrapper.css({width: s.virtualSize + s.params.spaceBetween + 'px'});\n                else s.wrapper.css({height: s.virtualSize + s.params.spaceBetween + 'px'});\n            }\n        \n            if (s.params.slidesPerColumn > 1) {\n                s.virtualSize = (slideSize + s.params.spaceBetween) * slidesNumberEvenToRows;\n                s.virtualSize = Math.ceil(s.virtualSize / s.params.slidesPerColumn) - s.params.spaceBetween;\n                s.wrapper.css({width: s.virtualSize + s.params.spaceBetween + 'px'});\n                if (s.params.centeredSlides) {\n                    newSlidesGrid = [];\n                    for (i = 0; i < s.snapGrid.length; i++) {\n                        if (s.snapGrid[i] < s.virtualSize + s.snapGrid[0]) newSlidesGrid.push(s.snapGrid[i]);\n                    }\n                    s.snapGrid = newSlidesGrid;\n                }\n            }\n        \n            // Remove last grid elements depending on width\n            if (!s.params.centeredSlides) {\n                newSlidesGrid = [];\n                for (i = 0; i < s.snapGrid.length; i++) {\n                    if (s.snapGrid[i] <= s.virtualSize - s.size) {\n                        newSlidesGrid.push(s.snapGrid[i]);\n                    }\n                }\n                s.snapGrid = newSlidesGrid;\n                if (Math.floor(s.virtualSize - s.size) - Math.floor(s.snapGrid[s.snapGrid.length - 1]) > 1) {\n                    s.snapGrid.push(s.virtualSize - s.size);\n                }\n            }\n            if (s.snapGrid.length === 0) s.snapGrid = [0];\n        \n            if (s.params.spaceBetween !== 0) {\n                if (s.isHorizontal()) {\n                    if (s.rtl) s.slides.css({marginLeft: spaceBetween + 'px'});\n                    else s.slides.css({marginRight: spaceBetween + 'px'});\n                }\n                else s.slides.css({marginBottom: spaceBetween + 'px'});\n            }\n            if (s.params.watchSlidesProgress) {\n                s.updateSlidesOffset();\n            }\n        };\n        s.updateSlidesOffset = function () {\n            for (var i = 0; i < s.slides.length; i++) {\n                s.slides[i].swiperSlideOffset = s.isHorizontal() ? s.slides[i].offsetLeft : s.slides[i].offsetTop;\n            }\n        };\n        \n        /*=========================\n          Slider/slides progress\n          ===========================*/\n        s.updateSlidesProgress = function (translate) {\n            if (typeof translate === 'undefined') {\n                translate = s.translate || 0;\n            }\n            if (s.slides.length === 0) return;\n            if (typeof s.slides[0].swiperSlideOffset === 'undefined') s.updateSlidesOffset();\n        \n            var offsetCenter = -translate;\n            if (s.rtl) offsetCenter = translate;\n        \n            // Visible Slides\n            s.slides.removeClass(s.params.slideVisibleClass);\n            for (var i = 0; i < s.slides.length; i++) {\n                var slide = s.slides[i];\n                var slideProgress = (offsetCenter - slide.swiperSlideOffset) / (slide.swiperSlideSize + s.params.spaceBetween);\n                if (s.params.watchSlidesVisibility) {\n                    var slideBefore = -(offsetCenter - slide.swiperSlideOffset);\n                    var slideAfter = slideBefore + s.slidesSizesGrid[i];\n                    var isVisible =\n                        (slideBefore >= 0 && slideBefore < s.size) ||\n                        (slideAfter > 0 && slideAfter <= s.size) ||\n                        (slideBefore <= 0 && slideAfter >= s.size);\n                    if (isVisible) {\n                        s.slides.eq(i).addClass(s.params.slideVisibleClass);\n                    }\n                }\n                slide.progress = s.rtl ? -slideProgress : slideProgress;\n            }\n        };\n        s.updateProgress = function (translate) {\n            if (typeof translate === 'undefined') {\n                translate = s.translate || 0;\n            }\n            var translatesDiff = s.maxTranslate() - s.minTranslate();\n            var wasBeginning = s.isBeginning;\n            var wasEnd = s.isEnd;\n            if (translatesDiff === 0) {\n                s.progress = 0;\n                s.isBeginning = s.isEnd = true;\n            }\n            else {\n                s.progress = (translate - s.minTranslate()) / (translatesDiff);\n                s.isBeginning = s.progress <= 0;\n                s.isEnd = s.progress >= 1;\n            }\n            if (s.isBeginning && !wasBeginning) s.emit('onReachBeginning', s);\n            if (s.isEnd && !wasEnd) s.emit('onReachEnd', s);\n        \n            if (s.params.watchSlidesProgress) s.updateSlidesProgress(translate);\n            s.emit('onProgress', s, s.progress);\n        };\n        s.updateActiveIndex = function () {\n            var translate = s.rtl ? s.translate : -s.translate;\n            var newActiveIndex, i, snapIndex;\n            for (i = 0; i < s.slidesGrid.length; i ++) {\n                if (typeof s.slidesGrid[i + 1] !== 'undefined') {\n                    if (translate >= s.slidesGrid[i] && translate < s.slidesGrid[i + 1] - (s.slidesGrid[i + 1] - s.slidesGrid[i]) / 2) {\n                        newActiveIndex = i;\n                    }\n                    else if (translate >= s.slidesGrid[i] && translate < s.slidesGrid[i + 1]) {\n                        newActiveIndex = i + 1;\n                    }\n                }\n                else {\n                    if (translate >= s.slidesGrid[i]) {\n                        newActiveIndex = i;\n                    }\n                }\n            }\n            // Normalize slideIndex\n            if (newActiveIndex < 0 || typeof newActiveIndex === 'undefined') newActiveIndex = 0;\n            // for (i = 0; i < s.slidesGrid.length; i++) {\n                // if (- translate >= s.slidesGrid[i]) {\n                    // newActiveIndex = i;\n                // }\n            // }\n            snapIndex = Math.floor(newActiveIndex / s.params.slidesPerGroup);\n            if (snapIndex >= s.snapGrid.length) snapIndex = s.snapGrid.length - 1;\n        \n            if (newActiveIndex === s.activeIndex) {\n                return;\n            }\n            s.snapIndex = snapIndex;\n            s.previousIndex = s.activeIndex;\n            s.activeIndex = newActiveIndex;\n            s.updateClasses();\n        };\n        \n        /*=========================\n          Classes\n          ===========================*/\n        s.updateClasses = function () {\n            s.slides.removeClass(s.params.slideActiveClass + ' ' + s.params.slideNextClass + ' ' + s.params.slidePrevClass);\n            var activeSlide = s.slides.eq(s.activeIndex);\n            // Active classes\n            activeSlide.addClass(s.params.slideActiveClass);\n            // Next Slide\n            var nextSlide = activeSlide.next('.' + s.params.slideClass).addClass(s.params.slideNextClass);\n            if (s.params.loop && nextSlide.length === 0) {\n                s.slides.eq(0).addClass(s.params.slideNextClass);\n            }\n            // Prev Slide\n            var prevSlide = activeSlide.prev('.' + s.params.slideClass).addClass(s.params.slidePrevClass);\n            if (s.params.loop && prevSlide.length === 0) {\n                s.slides.eq(-1).addClass(s.params.slidePrevClass);\n            }\n        \n            // Pagination\n            if (s.paginationContainer && s.paginationContainer.length > 0) {\n                // Current/Total\n                var current,\n                    total = s.params.loop ? Math.ceil((s.slides.length - s.loopedSlides * 2) / s.params.slidesPerGroup) : s.snapGrid.length;\n                if (s.params.loop) {\n                    current = Math.ceil((s.activeIndex - s.loopedSlides)/s.params.slidesPerGroup);\n                    if (current > s.slides.length - 1 - s.loopedSlides * 2) {\n                        current = current - (s.slides.length - s.loopedSlides * 2);\n                    }\n                    if (current > total - 1) current = current - total;\n                    if (current < 0 && s.params.paginationType !== 'bullets') current = total + current;\n                }\n                else {\n                    if (typeof s.snapIndex !== 'undefined') {\n                        current = s.snapIndex;\n                    }\n                    else {\n                        current = s.activeIndex || 0;\n                    }\n                }\n                // Types\n                if (s.params.paginationType === 'bullets' && s.bullets && s.bullets.length > 0) {\n                    s.bullets.removeClass(s.params.bulletActiveClass);\n                    if (s.paginationContainer.length > 1) {\n                        s.bullets.each(function () {\n                            if ($(this).index() === current) $(this).addClass(s.params.bulletActiveClass);\n                        });\n                    }\n                    else {\n                        s.bullets.eq(current).addClass(s.params.bulletActiveClass);\n                    }\n                }\n                if (s.params.paginationType === 'fraction') {\n                    s.paginationContainer.find('.' + s.params.paginationCurrentClass).text(current + 1);\n                    s.paginationContainer.find('.' + s.params.paginationTotalClass).text(total);\n                }\n                if (s.params.paginationType === 'progress') {\n                    var scale = (current + 1) / total,\n                        scaleX = scale,\n                        scaleY = 1;\n                    if (!s.isHorizontal()) {\n                        scaleY = scale;\n                        scaleX = 1;\n                    }\n                    s.paginationContainer.find('.' + s.params.paginationProgressbarClass).transform('translate3d(0,0,0) scaleX(' + scaleX + ') scaleY(' + scaleY + ')').transition(s.params.speed);\n                }\n                if (s.params.paginationType === 'custom' && s.params.paginationCustomRender) {\n                    s.paginationContainer.html(s.params.paginationCustomRender(s, current + 1, total));\n                    s.emit('onPaginationRendered', s, s.paginationContainer[0]);\n                }\n            }\n        \n            // Next/active buttons\n            if (!s.params.loop) {\n                if (s.params.prevButton && s.prevButton && s.prevButton.length > 0) {\n                    if (s.isBeginning) {\n                        s.prevButton.addClass(s.params.buttonDisabledClass);\n                        if (s.params.a11y && s.a11y) s.a11y.disable(s.prevButton);\n                    }\n                    else {\n                        s.prevButton.removeClass(s.params.buttonDisabledClass);\n                        if (s.params.a11y && s.a11y) s.a11y.enable(s.prevButton);\n                    }\n                }\n                if (s.params.nextButton && s.nextButton && s.nextButton.length > 0) {\n                    if (s.isEnd) {\n                        s.nextButton.addClass(s.params.buttonDisabledClass);\n                        if (s.params.a11y && s.a11y) s.a11y.disable(s.nextButton);\n                    }\n                    else {\n                        s.nextButton.removeClass(s.params.buttonDisabledClass);\n                        if (s.params.a11y && s.a11y) s.a11y.enable(s.nextButton);\n                    }\n                }\n            }\n        };\n        \n        /*=========================\n          Pagination\n          ===========================*/\n        s.updatePagination = function () {\n            if (!s.params.pagination) return;\n            if (s.paginationContainer && s.paginationContainer.length > 0) {\n                var paginationHTML = '';\n                if (s.params.paginationType === 'bullets') {\n                    var numberOfBullets = s.params.loop ? Math.ceil((s.slides.length - s.loopedSlides * 2) / s.params.slidesPerGroup) : s.snapGrid.length;\n                    for (var i = 0; i < numberOfBullets; i++) {\n                        if (s.params.paginationBulletRender) {\n                            paginationHTML += s.params.paginationBulletRender(i, s.params.bulletClass);\n                        }\n                        else {\n                            paginationHTML += '<' + s.params.paginationElement+' class=\"' + s.params.bulletClass + '\"></' + s.params.paginationElement + '>';\n                        }\n                    }\n                    s.paginationContainer.html(paginationHTML);\n                    s.bullets = s.paginationContainer.find('.' + s.params.bulletClass);\n                    if (s.params.paginationClickable && s.params.a11y && s.a11y) {\n                        s.a11y.initPagination();\n                    }\n                }\n                if (s.params.paginationType === 'fraction') {\n                    if (s.params.paginationFractionRender) {\n                        paginationHTML = s.params.paginationFractionRender(s, s.params.paginationCurrentClass, s.params.paginationTotalClass);\n                    }\n                    else {\n                        paginationHTML =\n                            '<span class=\"' + s.params.paginationCurrentClass + '\"></span>' +\n                            ' / ' +\n                            '<span class=\"' + s.params.paginationTotalClass+'\"></span>';\n                    }\n                    s.paginationContainer.html(paginationHTML);\n                }\n                if (s.params.paginationType === 'progress') {\n                    if (s.params.paginationProgressRender) {\n                        paginationHTML = s.params.paginationProgressRender(s, s.params.paginationProgressbarClass);\n                    }\n                    else {\n                        paginationHTML = '<span class=\"' + s.params.paginationProgressbarClass + '\"></span>';\n                    }\n                    s.paginationContainer.html(paginationHTML);\n                }\n                if (s.params.paginationType !== 'custom') {\n                    s.emit('onPaginationRendered', s, s.paginationContainer[0]);\n                }\n            }\n        };\n        /*=========================\n          Common update method\n          ===========================*/\n        s.update = function (updateTranslate) {\n            s.updateContainerSize();\n            s.updateSlidesSize();\n            s.updateProgress();\n            s.updatePagination();\n            s.updateClasses();\n            if (s.params.scrollbar && s.scrollbar) {\n                s.scrollbar.set();\n            }\n            function forceSetTranslate() {\n                newTranslate = Math.min(Math.max(s.translate, s.maxTranslate()), s.minTranslate());\n                s.setWrapperTranslate(newTranslate);\n                s.updateActiveIndex();\n                s.updateClasses();\n            }\n            if (updateTranslate) {\n                var translated, newTranslate;\n                if (s.controller && s.controller.spline) {\n                    s.controller.spline = undefined;\n                }\n                if (s.params.freeMode) {\n                    forceSetTranslate();\n                    if (s.params.autoHeight) {\n                        s.updateAutoHeight();\n                    }\n                }\n                else {\n                    if ((s.params.slidesPerView === 'auto' || s.params.slidesPerView > 1) && s.isEnd && !s.params.centeredSlides) {\n                        translated = s.slideTo(s.slides.length - 1, 0, false, true);\n                    }\n                    else {\n                        translated = s.slideTo(s.activeIndex, 0, false, true);\n                    }\n                    if (!translated) {\n                        forceSetTranslate();\n                    }\n                }\n            }\n            else if (s.params.autoHeight) {\n                s.updateAutoHeight();\n            }\n        };\n        \n        /*=========================\n          Resize Handler\n          ===========================*/\n        s.onResize = function (forceUpdatePagination) {\n            //Breakpoints\n            if (s.params.breakpoints) {\n                s.setBreakpoint();\n            }\n        \n            // Disable locks on resize\n            var allowSwipeToPrev = s.params.allowSwipeToPrev;\n            var allowSwipeToNext = s.params.allowSwipeToNext;\n            s.params.allowSwipeToPrev = s.params.allowSwipeToNext = true;\n        \n            s.updateContainerSize();\n            s.updateSlidesSize();\n            if (s.params.slidesPerView === 'auto' || s.params.freeMode || forceUpdatePagination) s.updatePagination();\n            if (s.params.scrollbar && s.scrollbar) {\n                s.scrollbar.set();\n            }\n            if (s.controller && s.controller.spline) {\n                s.controller.spline = undefined;\n            }\n            var slideChangedBySlideTo = false;\n            if (s.params.freeMode) {\n                var newTranslate = Math.min(Math.max(s.translate, s.maxTranslate()), s.minTranslate());\n                s.setWrapperTranslate(newTranslate);\n                s.updateActiveIndex();\n                s.updateClasses();\n        \n                if (s.params.autoHeight) {\n                    s.updateAutoHeight();\n                }\n            }\n            else {\n                s.updateClasses();\n                if ((s.params.slidesPerView === 'auto' || s.params.slidesPerView > 1) && s.isEnd && !s.params.centeredSlides) {\n                    slideChangedBySlideTo = s.slideTo(s.slides.length - 1, 0, false, true);\n                }\n                else {\n                    slideChangedBySlideTo = s.slideTo(s.activeIndex, 0, false, true);\n                }\n            }\n            if (s.params.lazyLoading && !slideChangedBySlideTo && s.lazy) {\n                s.lazy.load();\n            }\n            // Return locks after resize\n            s.params.allowSwipeToPrev = allowSwipeToPrev;\n            s.params.allowSwipeToNext = allowSwipeToNext;\n        };\n        \n        /*=========================\n          Events\n          ===========================*/\n        \n        //Define Touch Events\n        var desktopEvents = ['mousedown', 'mousemove', 'mouseup'];\n        if (window.navigator.pointerEnabled) desktopEvents = ['pointerdown', 'pointermove', 'pointerup'];\n        else if (window.navigator.msPointerEnabled) desktopEvents = ['MSPointerDown', 'MSPointerMove', 'MSPointerUp'];\n        s.touchEvents = {\n            start : s.support.touch || !s.params.simulateTouch  ? 'touchstart' : desktopEvents[0],\n            move : s.support.touch || !s.params.simulateTouch ? 'touchmove' : desktopEvents[1],\n            end : s.support.touch || !s.params.simulateTouch ? 'touchend' : desktopEvents[2]\n        };\n        \n        \n        // WP8 Touch Events Fix\n        if (window.navigator.pointerEnabled || window.navigator.msPointerEnabled) {\n            (s.params.touchEventsTarget === 'container' ? s.container : s.wrapper).addClass('swiper-wp8-' + s.params.direction);\n        }\n        \n        // Attach/detach events\n        s.initEvents = function (detach) {\n            var actionDom = detach ? 'off' : 'on';\n            var action = detach ? 'removeEventListener' : 'addEventListener';\n            var touchEventsTarget = s.params.touchEventsTarget === 'container' ? s.container[0] : s.wrapper[0];\n            var target = s.support.touch ? touchEventsTarget : document;\n        \n            var moveCapture = s.params.nested ? true : false;\n        \n            //Touch Events\n            if (s.browser.ie) {\n                touchEventsTarget[action](s.touchEvents.start, s.onTouchStart, false);\n                target[action](s.touchEvents.move, s.onTouchMove, moveCapture);\n                target[action](s.touchEvents.end, s.onTouchEnd, false);\n            }\n            else {\n                if (s.support.touch) {\n                    touchEventsTarget[action](s.touchEvents.start, s.onTouchStart, false);\n                    touchEventsTarget[action](s.touchEvents.move, s.onTouchMove, moveCapture);\n                    touchEventsTarget[action](s.touchEvents.end, s.onTouchEnd, false);\n                }\n                if (params.simulateTouch && !s.device.ios && !s.device.android) {\n                    touchEventsTarget[action]('mousedown', s.onTouchStart, false);\n                    document[action]('mousemove', s.onTouchMove, moveCapture);\n                    document[action]('mouseup', s.onTouchEnd, false);\n                }\n            }\n            window[action]('resize', s.onResize);\n        \n            // Next, Prev, Index\n            if (s.params.nextButton && s.nextButton && s.nextButton.length > 0) {\n                s.nextButton[actionDom]('click', s.onClickNext);\n                if (s.params.a11y && s.a11y) s.nextButton[actionDom]('keydown', s.a11y.onEnterKey);\n            }\n            if (s.params.prevButton && s.prevButton && s.prevButton.length > 0) {\n                s.prevButton[actionDom]('click', s.onClickPrev);\n                if (s.params.a11y && s.a11y) s.prevButton[actionDom]('keydown', s.a11y.onEnterKey);\n            }\n            if (s.params.pagination && s.params.paginationClickable) {\n                s.paginationContainer[actionDom]('click', '.' + s.params.bulletClass, s.onClickIndex);\n                if (s.params.a11y && s.a11y) s.paginationContainer[actionDom]('keydown', '.' + s.params.bulletClass, s.a11y.onEnterKey);\n            }\n        \n            // Prevent Links Clicks\n            if (s.params.preventClicks || s.params.preventClicksPropagation) touchEventsTarget[action]('click', s.preventClicks, true);\n        };\n        s.attachEvents = function () {\n            s.initEvents();\n        };\n        s.detachEvents = function () {\n            s.initEvents(true);\n        };\n        \n        /*=========================\n          Handle Clicks\n          ===========================*/\n        // Prevent Clicks\n        s.allowClick = true;\n        s.preventClicks = function (e) {\n            if (!s.allowClick) {\n                if (s.params.preventClicks) e.preventDefault();\n                if (s.params.preventClicksPropagation && s.animating) {\n                    e.stopPropagation();\n                    e.stopImmediatePropagation();\n                }\n            }\n        };\n        // Clicks\n        s.onClickNext = function (e) {\n            e.preventDefault();\n            if (s.isEnd && !s.params.loop) return;\n            s.slideNext();\n        };\n        s.onClickPrev = function (e) {\n            e.preventDefault();\n            if (s.isBeginning && !s.params.loop) return;\n            s.slidePrev();\n        };\n        s.onClickIndex = function (e) {\n            e.preventDefault();\n            var index = $(this).index() * s.params.slidesPerGroup;\n            if (s.params.loop) index = index + s.loopedSlides;\n            s.slideTo(index);\n        };\n        \n        /*=========================\n          Handle Touches\n          ===========================*/\n        function findElementInEvent(e, selector) {\n            var el = $(e.target);\n            if (!el.is(selector)) {\n                if (typeof selector === 'string') {\n                    el = el.parents(selector);\n                }\n                else if (selector.nodeType) {\n                    var found;\n                    el.parents().each(function (index, _el) {\n                        if (_el === selector) found = selector;\n                    });\n                    if (!found) return undefined;\n                    else return selector;\n                }\n            }\n            if (el.length === 0) {\n                return undefined;\n            }\n            return el[0];\n        }\n        s.updateClickedSlide = function (e) {\n            var slide = findElementInEvent(e, '.' + s.params.slideClass);\n            var slideFound = false;\n            if (slide) {\n                for (var i = 0; i < s.slides.length; i++) {\n                    if (s.slides[i] === slide) slideFound = true;\n                }\n            }\n        \n            if (slide && slideFound) {\n                s.clickedSlide = slide;\n                s.clickedIndex = $(slide).index();\n            }\n            else {\n                s.clickedSlide = undefined;\n                s.clickedIndex = undefined;\n                return;\n            }\n            if (s.params.slideToClickedSlide && s.clickedIndex !== undefined && s.clickedIndex !== s.activeIndex) {\n                var slideToIndex = s.clickedIndex,\n                    realIndex,\n                    duplicatedSlides;\n                if (s.params.loop) {\n                    if (s.animating) return;\n                    realIndex = $(s.clickedSlide).attr('data-swiper-slide-index');\n                    if (s.params.centeredSlides) {\n                        if ((slideToIndex < s.loopedSlides - s.params.slidesPerView/2) || (slideToIndex > s.slides.length - s.loopedSlides + s.params.slidesPerView/2)) {\n                            s.fixLoop();\n                            slideToIndex = s.wrapper.children('.' + s.params.slideClass + '[data-swiper-slide-index=\"' + realIndex + '\"]:not(.swiper-slide-duplicate)').eq(0).index();\n                            setTimeout(function () {\n                                s.slideTo(slideToIndex);\n                            }, 0);\n                        }\n                        else {\n                            s.slideTo(slideToIndex);\n                        }\n                    }\n                    else {\n                        if (slideToIndex > s.slides.length - s.params.slidesPerView) {\n                            s.fixLoop();\n                            slideToIndex = s.wrapper.children('.' + s.params.slideClass + '[data-swiper-slide-index=\"' + realIndex + '\"]:not(.swiper-slide-duplicate)').eq(0).index();\n                            setTimeout(function () {\n                                s.slideTo(slideToIndex);\n                            }, 0);\n                        }\n                        else {\n                            s.slideTo(slideToIndex);\n                        }\n                    }\n                }\n                else {\n                    s.slideTo(slideToIndex);\n                }\n            }\n        };\n        \n        var isTouched,\n            isMoved,\n            allowTouchCallbacks,\n            touchStartTime,\n            isScrolling,\n            currentTranslate,\n            startTranslate,\n            allowThresholdMove,\n            // Form elements to match\n            formElements = 'input, select, textarea, button',\n            // Last click time\n            lastClickTime = Date.now(), clickTimeout,\n            //Velocities\n            velocities = [],\n            allowMomentumBounce;\n        \n        // Animating Flag\n        s.animating = false;\n        \n        // Touches information\n        s.touches = {\n            startX: 0,\n            startY: 0,\n            currentX: 0,\n            currentY: 0,\n            diff: 0\n        };\n        \n        // Touch handlers\n        var isTouchEvent, startMoving;\n        s.onTouchStart = function (e) {\n            if (e.originalEvent) e = e.originalEvent;\n            isTouchEvent = e.type === 'touchstart';\n            if (!isTouchEvent && 'which' in e && e.which === 3) return;\n            if (s.params.noSwiping && findElementInEvent(e, '.' + s.params.noSwipingClass)) {\n                s.allowClick = true;\n                return;\n            }\n            if (s.params.swipeHandler) {\n                if (!findElementInEvent(e, s.params.swipeHandler)) return;\n            }\n        \n            var startX = s.touches.currentX = e.type === 'touchstart' ? e.targetTouches[0].pageX : e.pageX;\n            var startY = s.touches.currentY = e.type === 'touchstart' ? e.targetTouches[0].pageY : e.pageY;\n        \n            // Do NOT start if iOS edge swipe is detected. Otherwise iOS app (UIWebView) cannot swipe-to-go-back anymore\n            if(s.device.ios && s.params.iOSEdgeSwipeDetection && startX <= s.params.iOSEdgeSwipeThreshold) {\n                return;\n            }\n        \n            isTouched = true;\n            isMoved = false;\n            allowTouchCallbacks = true;\n            isScrolling = undefined;\n            startMoving = undefined;\n            s.touches.startX = startX;\n            s.touches.startY = startY;\n            touchStartTime = Date.now();\n            s.allowClick = true;\n            s.updateContainerSize();\n            s.swipeDirection = undefined;\n            if (s.params.threshold > 0) allowThresholdMove = false;\n            if (e.type !== 'touchstart') {\n                var preventDefault = true;\n                if ($(e.target).is(formElements)) preventDefault = false;\n                if (document.activeElement && $(document.activeElement).is(formElements)) {\n                    document.activeElement.blur();\n                }\n                if (preventDefault) {\n                    e.preventDefault();\n                }\n            }\n            s.emit('onTouchStart', s, e);\n        };\n        \n        s.onTouchMove = function (e) {\n            if (e.originalEvent) e = e.originalEvent;\n            if (isTouchEvent && e.type === 'mousemove') return;\n            if (e.preventedByNestedSwiper) {\n                s.touches.startX = e.type === 'touchmove' ? e.targetTouches[0].pageX : e.pageX;\n                s.touches.startY = e.type === 'touchmove' ? e.targetTouches[0].pageY : e.pageY;\n                return;\n            }\n            if (s.params.onlyExternal) {\n                // isMoved = true;\n                s.allowClick = false;\n                if (isTouched) {\n                    s.touches.startX = s.touches.currentX = e.type === 'touchmove' ? e.targetTouches[0].pageX : e.pageX;\n                    s.touches.startY = s.touches.currentY = e.type === 'touchmove' ? e.targetTouches[0].pageY : e.pageY;\n                    touchStartTime = Date.now();\n                }\n                return;\n            }\n            if (isTouchEvent && document.activeElement) {\n                if (e.target === document.activeElement && $(e.target).is(formElements)) {\n                    isMoved = true;\n                    s.allowClick = false;\n                    return;\n                }\n            }\n            if (allowTouchCallbacks) {\n                s.emit('onTouchMove', s, e);\n            }\n            if (e.targetTouches && e.targetTouches.length > 1) return;\n        \n            s.touches.currentX = e.type === 'touchmove' ? e.targetTouches[0].pageX : e.pageX;\n            s.touches.currentY = e.type === 'touchmove' ? e.targetTouches[0].pageY : e.pageY;\n        \n            if (typeof isScrolling === 'undefined') {\n                var touchAngle = Math.atan2(Math.abs(s.touches.currentY - s.touches.startY), Math.abs(s.touches.currentX - s.touches.startX)) * 180 / Math.PI;\n                isScrolling = s.isHorizontal() ? touchAngle > s.params.touchAngle : (90 - touchAngle > s.params.touchAngle);\n            }\n            if (isScrolling) {\n                s.emit('onTouchMoveOpposite', s, e);\n            }\n            if (typeof startMoving === 'undefined' && s.browser.ieTouch) {\n                if (s.touches.currentX !== s.touches.startX || s.touches.currentY !== s.touches.startY) {\n                    startMoving = true;\n                }\n            }\n            if (!isTouched) return;\n            if (isScrolling)  {\n                isTouched = false;\n                return;\n            }\n            if (!startMoving && s.browser.ieTouch) {\n                return;\n            }\n            s.allowClick = false;\n            s.emit('onSliderMove', s, e);\n            e.preventDefault();\n            if (s.params.touchMoveStopPropagation && !s.params.nested) {\n                e.stopPropagation();\n            }\n        \n            if (!isMoved) {\n                if (params.loop) {\n                    s.fixLoop();\n                }\n                startTranslate = s.getWrapperTranslate();\n                s.setWrapperTransition(0);\n                if (s.animating) {\n                    s.wrapper.trigger('webkitTransitionEnd transitionend oTransitionEnd MSTransitionEnd msTransitionEnd');\n                }\n                if (s.params.autoplay && s.autoplaying) {\n                    if (s.params.autoplayDisableOnInteraction) {\n                        s.stopAutoplay();\n                    }\n                    else {\n                        s.pauseAutoplay();\n                    }\n                }\n                allowMomentumBounce = false;\n                //Grab Cursor\n                if (s.params.grabCursor) {\n                    s.container[0].style.cursor = 'move';\n                    s.container[0].style.cursor = '-webkit-grabbing';\n                    s.container[0].style.cursor = '-moz-grabbin';\n                    s.container[0].style.cursor = 'grabbing';\n                }\n            }\n            isMoved = true;\n        \n            var diff = s.touches.diff = s.isHorizontal() ? s.touches.currentX - s.touches.startX : s.touches.currentY - s.touches.startY;\n        \n            diff = diff * s.params.touchRatio;\n            if (s.rtl) diff = -diff;\n        \n            s.swipeDirection = diff > 0 ? 'prev' : 'next';\n            currentTranslate = diff + startTranslate;\n        \n            var disableParentSwiper = true;\n            if ((diff > 0 && currentTranslate > s.minTranslate())) {\n                disableParentSwiper = false;\n                if (s.params.resistance) currentTranslate = s.minTranslate() - 1 + Math.pow(-s.minTranslate() + startTranslate + diff, s.params.resistanceRatio);\n            }\n            else if (diff < 0 && currentTranslate < s.maxTranslate()) {\n                disableParentSwiper = false;\n                if (s.params.resistance) currentTranslate = s.maxTranslate() + 1 - Math.pow(s.maxTranslate() - startTranslate - diff, s.params.resistanceRatio);\n            }\n        \n            if (disableParentSwiper) {\n                e.preventedByNestedSwiper = true;\n            }\n        \n            // Directions locks\n            if (!s.params.allowSwipeToNext && s.swipeDirection === 'next' && currentTranslate < startTranslate) {\n                currentTranslate = startTranslate;\n            }\n            if (!s.params.allowSwipeToPrev && s.swipeDirection === 'prev' && currentTranslate > startTranslate) {\n                currentTranslate = startTranslate;\n            }\n        \n            if (!s.params.followFinger) return;\n        \n            // Threshold\n            if (s.params.threshold > 0) {\n                if (Math.abs(diff) > s.params.threshold || allowThresholdMove) {\n                    if (!allowThresholdMove) {\n                        allowThresholdMove = true;\n                        s.touches.startX = s.touches.currentX;\n                        s.touches.startY = s.touches.currentY;\n                        currentTranslate = startTranslate;\n                        s.touches.diff = s.isHorizontal() ? s.touches.currentX - s.touches.startX : s.touches.currentY - s.touches.startY;\n                        return;\n                    }\n                }\n                else {\n                    currentTranslate = startTranslate;\n                    return;\n                }\n            }\n            // Update active index in free mode\n            if (s.params.freeMode || s.params.watchSlidesProgress) {\n                s.updateActiveIndex();\n            }\n            if (s.params.freeMode) {\n                //Velocity\n                if (velocities.length === 0) {\n                    velocities.push({\n                        position: s.touches[s.isHorizontal() ? 'startX' : 'startY'],\n                        time: touchStartTime\n                    });\n                }\n                velocities.push({\n                    position: s.touches[s.isHorizontal() ? 'currentX' : 'currentY'],\n                    time: (new window.Date()).getTime()\n                });\n            }\n            // Update progress\n            s.updateProgress(currentTranslate);\n            // Update translate\n            s.setWrapperTranslate(currentTranslate);\n        };\n        s.onTouchEnd = function (e) {\n            if (e.originalEvent) e = e.originalEvent;\n            if (allowTouchCallbacks) {\n                s.emit('onTouchEnd', s, e);\n            }\n            allowTouchCallbacks = false;\n            if (!isTouched) return;\n            //Return Grab Cursor\n            if (s.params.grabCursor && isMoved && isTouched) {\n                s.container[0].style.cursor = 'move';\n                s.container[0].style.cursor = '-webkit-grab';\n                s.container[0].style.cursor = '-moz-grab';\n                s.container[0].style.cursor = 'grab';\n            }\n        \n            // Time diff\n            var touchEndTime = Date.now();\n            var timeDiff = touchEndTime - touchStartTime;\n        \n            // Tap, doubleTap, Click\n            if (s.allowClick) {\n                s.updateClickedSlide(e);\n                s.emit('onTap', s, e);\n                if (timeDiff < 300 && (touchEndTime - lastClickTime) > 300) {\n                    if (clickTimeout) clearTimeout(clickTimeout);\n                    clickTimeout = setTimeout(function () {\n                        if (!s) return;\n                        if (s.params.paginationHide && s.paginationContainer.length > 0 && !$(e.target).hasClass(s.params.bulletClass)) {\n                            s.paginationContainer.toggleClass(s.params.paginationHiddenClass);\n                        }\n                        s.emit('onClick', s, e);\n                    }, 300);\n        \n                }\n                if (timeDiff < 300 && (touchEndTime - lastClickTime) < 300) {\n                    if (clickTimeout) clearTimeout(clickTimeout);\n                    s.emit('onDoubleTap', s, e);\n                }\n            }\n        \n            lastClickTime = Date.now();\n            setTimeout(function () {\n                if (s) s.allowClick = true;\n            }, 0);\n        \n            if (!isTouched || !isMoved || !s.swipeDirection || s.touches.diff === 0 || currentTranslate === startTranslate) {\n                isTouched = isMoved = false;\n                return;\n            }\n            isTouched = isMoved = false;\n        \n            var currentPos;\n            if (s.params.followFinger) {\n                currentPos = s.rtl ? s.translate : -s.translate;\n            }\n            else {\n                currentPos = -currentTranslate;\n            }\n            if (s.params.freeMode) {\n                if (currentPos < -s.minTranslate()) {\n                    s.slideTo(s.activeIndex);\n                    return;\n                }\n                else if (currentPos > -s.maxTranslate()) {\n                    if (s.slides.length < s.snapGrid.length) {\n                        s.slideTo(s.snapGrid.length - 1);\n                    }\n                    else {\n                        s.slideTo(s.slides.length - 1);\n                    }\n                    return;\n                }\n        \n                if (s.params.freeModeMomentum) {\n                    if (velocities.length > 1) {\n                        var lastMoveEvent = velocities.pop(), velocityEvent = velocities.pop();\n        \n                        var distance = lastMoveEvent.position - velocityEvent.position;\n                        var time = lastMoveEvent.time - velocityEvent.time;\n                        s.velocity = distance / time;\n                        s.velocity = s.velocity / 2;\n                        if (Math.abs(s.velocity) < s.params.freeModeMinimumVelocity) {\n                            s.velocity = 0;\n                        }\n                        // this implies that the user stopped moving a finger then released.\n                        // There would be no events with distance zero, so the last event is stale.\n                        if (time > 150 || (new window.Date().getTime() - lastMoveEvent.time) > 300) {\n                            s.velocity = 0;\n                        }\n                    } else {\n                        s.velocity = 0;\n                    }\n        \n                    velocities.length = 0;\n                    var momentumDuration = 1000 * s.params.freeModeMomentumRatio;\n                    var momentumDistance = s.velocity * momentumDuration;\n        \n                    var newPosition = s.translate + momentumDistance;\n                    if (s.rtl) newPosition = - newPosition;\n                    var doBounce = false;\n                    var afterBouncePosition;\n                    var bounceAmount = Math.abs(s.velocity) * 20 * s.params.freeModeMomentumBounceRatio;\n                    if (newPosition < s.maxTranslate()) {\n                        if (s.params.freeModeMomentumBounce) {\n                            if (newPosition + s.maxTranslate() < -bounceAmount) {\n                                newPosition = s.maxTranslate() - bounceAmount;\n                            }\n                            afterBouncePosition = s.maxTranslate();\n                            doBounce = true;\n                            allowMomentumBounce = true;\n                        }\n                        else {\n                            newPosition = s.maxTranslate();\n                        }\n                    }\n                    else if (newPosition > s.minTranslate()) {\n                        if (s.params.freeModeMomentumBounce) {\n                            if (newPosition - s.minTranslate() > bounceAmount) {\n                                newPosition = s.minTranslate() + bounceAmount;\n                            }\n                            afterBouncePosition = s.minTranslate();\n                            doBounce = true;\n                            allowMomentumBounce = true;\n                        }\n                        else {\n                            newPosition = s.minTranslate();\n                        }\n                    }\n                    else if (s.params.freeModeSticky) {\n                        var j = 0,\n                            nextSlide;\n                        for (j = 0; j < s.snapGrid.length; j += 1) {\n                            if (s.snapGrid[j] > -newPosition) {\n                                nextSlide = j;\n                                break;\n                            }\n        \n                        }\n                        if (Math.abs(s.snapGrid[nextSlide] - newPosition) < Math.abs(s.snapGrid[nextSlide - 1] - newPosition) || s.swipeDirection === 'next') {\n                            newPosition = s.snapGrid[nextSlide];\n                        } else {\n                            newPosition = s.snapGrid[nextSlide - 1];\n                        }\n                        if (!s.rtl) newPosition = - newPosition;\n                    }\n                    //Fix duration\n                    if (s.velocity !== 0) {\n                        if (s.rtl) {\n                            momentumDuration = Math.abs((-newPosition - s.translate) / s.velocity);\n                        }\n                        else {\n                            momentumDuration = Math.abs((newPosition - s.translate) / s.velocity);\n                        }\n                    }\n                    else if (s.params.freeModeSticky) {\n                        s.slideReset();\n                        return;\n                    }\n        \n                    if (s.params.freeModeMomentumBounce && doBounce) {\n                        s.updateProgress(afterBouncePosition);\n                        s.setWrapperTransition(momentumDuration);\n                        s.setWrapperTranslate(newPosition);\n                        s.onTransitionStart();\n                        s.animating = true;\n                        s.wrapper.transitionEnd(function () {\n                            if (!s || !allowMomentumBounce) return;\n                            s.emit('onMomentumBounce', s);\n        \n                            s.setWrapperTransition(s.params.speed);\n                            s.setWrapperTranslate(afterBouncePosition);\n                            s.wrapper.transitionEnd(function () {\n                                if (!s) return;\n                                s.onTransitionEnd();\n                            });\n                        });\n                    } else if (s.velocity) {\n                        s.updateProgress(newPosition);\n                        s.setWrapperTransition(momentumDuration);\n                        s.setWrapperTranslate(newPosition);\n                        s.onTransitionStart();\n                        if (!s.animating) {\n                            s.animating = true;\n                            s.wrapper.transitionEnd(function () {\n                                if (!s) return;\n                                s.onTransitionEnd();\n                            });\n                        }\n        \n                    } else {\n                        s.updateProgress(newPosition);\n                    }\n        \n                    s.updateActiveIndex();\n                }\n                if (!s.params.freeModeMomentum || timeDiff >= s.params.longSwipesMs) {\n                    s.updateProgress();\n                    s.updateActiveIndex();\n                }\n                return;\n            }\n        \n            // Find current slide\n            var i, stopIndex = 0, groupSize = s.slidesSizesGrid[0];\n            for (i = 0; i < s.slidesGrid.length; i += s.params.slidesPerGroup) {\n                if (typeof s.slidesGrid[i + s.params.slidesPerGroup] !== 'undefined') {\n                    if (currentPos >= s.slidesGrid[i] && currentPos < s.slidesGrid[i + s.params.slidesPerGroup]) {\n                        stopIndex = i;\n                        groupSize = s.slidesGrid[i + s.params.slidesPerGroup] - s.slidesGrid[i];\n                    }\n                }\n                else {\n                    if (currentPos >= s.slidesGrid[i]) {\n                        stopIndex = i;\n                        groupSize = s.slidesGrid[s.slidesGrid.length - 1] - s.slidesGrid[s.slidesGrid.length - 2];\n                    }\n                }\n            }\n        \n            // Find current slide size\n            var ratio = (currentPos - s.slidesGrid[stopIndex]) / groupSize;\n        \n            if (timeDiff > s.params.longSwipesMs) {\n                // Long touches\n                if (!s.params.longSwipes) {\n                    s.slideTo(s.activeIndex);\n                    return;\n                }\n                if (s.swipeDirection === 'next') {\n                    if (ratio >= s.params.longSwipesRatio) s.slideTo(stopIndex + s.params.slidesPerGroup);\n                    else s.slideTo(stopIndex);\n        \n                }\n                if (s.swipeDirection === 'prev') {\n                    if (ratio > (1 - s.params.longSwipesRatio)) s.slideTo(stopIndex + s.params.slidesPerGroup);\n                    else s.slideTo(stopIndex);\n                }\n            }\n            else {\n                // Short swipes\n                if (!s.params.shortSwipes) {\n                    s.slideTo(s.activeIndex);\n                    return;\n                }\n                if (s.swipeDirection === 'next') {\n                    s.slideTo(stopIndex + s.params.slidesPerGroup);\n        \n                }\n                if (s.swipeDirection === 'prev') {\n                    s.slideTo(stopIndex);\n                }\n            }\n        };\n        /*=========================\n          Transitions\n          ===========================*/\n        s._slideTo = function (slideIndex, speed) {\n            return s.slideTo(slideIndex, speed, true, true);\n        };\n        s.slideTo = function (slideIndex, speed, runCallbacks, internal) {\n            if (typeof runCallbacks === 'undefined') runCallbacks = true;\n            if (typeof slideIndex === 'undefined') slideIndex = 0;\n            if (slideIndex < 0) slideIndex = 0;\n            s.snapIndex = Math.floor(slideIndex / s.params.slidesPerGroup);\n            if (s.snapIndex >= s.snapGrid.length) s.snapIndex = s.snapGrid.length - 1;\n        \n            var translate = - s.snapGrid[s.snapIndex];\n            // Stop autoplay\n            if (s.params.autoplay && s.autoplaying) {\n                if (internal || !s.params.autoplayDisableOnInteraction) {\n                    s.pauseAutoplay(speed);\n                }\n                else {\n                    s.stopAutoplay();\n                }\n            }\n            // Update progress\n            s.updateProgress(translate);\n        \n            // Normalize slideIndex\n            for (var i = 0; i < s.slidesGrid.length; i++) {\n                if (- Math.floor(translate * 100) >= Math.floor(s.slidesGrid[i] * 100)) {\n                    slideIndex = i;\n                }\n            }\n        \n            // Directions locks\n            if (!s.params.allowSwipeToNext && translate < s.translate && translate < s.minTranslate()) {\n                return false;\n            }\n            if (!s.params.allowSwipeToPrev && translate > s.translate && translate > s.maxTranslate()) {\n                if ((s.activeIndex || 0) !== slideIndex ) return false;\n            }\n        \n            // Update Index\n            if (typeof speed === 'undefined') speed = s.params.speed;\n            s.previousIndex = s.activeIndex || 0;\n            s.activeIndex = slideIndex;\n        \n            if ((s.rtl && -translate === s.translate) || (!s.rtl && translate === s.translate)) {\n                // Update Height\n                if (s.params.autoHeight) {\n                    s.updateAutoHeight();\n                }\n                s.updateClasses();\n                if (s.params.effect !== 'slide') {\n                    s.setWrapperTranslate(translate);\n                }\n                return false;\n            }\n            s.updateClasses();\n            s.onTransitionStart(runCallbacks);\n        \n            if (speed === 0) {\n                s.setWrapperTranslate(translate);\n                s.setWrapperTransition(0);\n                s.onTransitionEnd(runCallbacks);\n            }\n            else {\n                s.setWrapperTranslate(translate);\n                s.setWrapperTransition(speed);\n                if (!s.animating) {\n                    s.animating = true;\n                    s.wrapper.transitionEnd(function () {\n                        if (!s) return;\n                        s.onTransitionEnd(runCallbacks);\n                    });\n                }\n        \n            }\n        \n            return true;\n        };\n        \n        s.onTransitionStart = function (runCallbacks) {\n            if (typeof runCallbacks === 'undefined') runCallbacks = true;\n            if (s.params.autoHeight) {\n                s.updateAutoHeight();\n            }\n            if (s.lazy) s.lazy.onTransitionStart();\n            if (runCallbacks) {\n                s.emit('onTransitionStart', s);\n                if (s.activeIndex !== s.previousIndex) {\n                    s.emit('onSlideChangeStart', s);\n                    if (s.activeIndex > s.previousIndex) {\n                        s.emit('onSlideNextStart', s);\n                    }\n                    else {\n                        s.emit('onSlidePrevStart', s);\n                    }\n                }\n        \n            }\n        };\n        s.onTransitionEnd = function (runCallbacks) {\n            s.animating = false;\n            s.setWrapperTransition(0);\n            if (typeof runCallbacks === 'undefined') runCallbacks = true;\n            if (s.lazy) s.lazy.onTransitionEnd();\n            if (runCallbacks) {\n                s.emit('onTransitionEnd', s);\n                if (s.activeIndex !== s.previousIndex) {\n                    s.emit('onSlideChangeEnd', s);\n                    if (s.activeIndex > s.previousIndex) {\n                        s.emit('onSlideNextEnd', s);\n                    }\n                    else {\n                        s.emit('onSlidePrevEnd', s);\n                    }\n                }\n            }\n            if (s.params.hashnav && s.hashnav) {\n                s.hashnav.setHash();\n            }\n        \n        };\n        s.slideNext = function (runCallbacks, speed, internal) {\n            if (s.params.loop) {\n                if (s.animating) return false;\n                s.fixLoop();\n                var clientLeft = s.container[0].clientLeft;\n                return s.slideTo(s.activeIndex + s.params.slidesPerGroup, speed, runCallbacks, internal);\n            }\n            else return s.slideTo(s.activeIndex + s.params.slidesPerGroup, speed, runCallbacks, internal);\n        };\n        s._slideNext = function (speed) {\n            return s.slideNext(true, speed, true);\n        };\n        s.slidePrev = function (runCallbacks, speed, internal) {\n            if (s.params.loop) {\n                if (s.animating) return false;\n                s.fixLoop();\n                var clientLeft = s.container[0].clientLeft;\n                return s.slideTo(s.activeIndex - 1, speed, runCallbacks, internal);\n            }\n            else return s.slideTo(s.activeIndex - 1, speed, runCallbacks, internal);\n        };\n        s._slidePrev = function (speed) {\n            return s.slidePrev(true, speed, true);\n        };\n        s.slideReset = function (runCallbacks, speed, internal) {\n            return s.slideTo(s.activeIndex, speed, runCallbacks);\n        };\n        \n        /*=========================\n          Translate/transition helpers\n          ===========================*/\n        s.setWrapperTransition = function (duration, byController) {\n            s.wrapper.transition(duration);\n            if (s.params.effect !== 'slide' && s.effects[s.params.effect]) {\n                s.effects[s.params.effect].setTransition(duration);\n            }\n            if (s.params.parallax && s.parallax) {\n                s.parallax.setTransition(duration);\n            }\n            if (s.params.scrollbar && s.scrollbar) {\n                s.scrollbar.setTransition(duration);\n            }\n            if (s.params.control && s.controller) {\n                s.controller.setTransition(duration, byController);\n            }\n            s.emit('onSetTransition', s, duration);\n        };\n        s.setWrapperTranslate = function (translate, updateActiveIndex, byController) {\n            var x = 0, y = 0, z = 0;\n            if (s.isHorizontal()) {\n                x = s.rtl ? -translate : translate;\n            }\n            else {\n                y = translate;\n            }\n        \n            if (s.params.roundLengths) {\n                x = round(x);\n                y = round(y);\n            }\n        \n            if (!s.params.virtualTranslate) {\n                if (s.support.transforms3d) s.wrapper.transform('translate3d(' + x + 'px, ' + y + 'px, ' + z + 'px)');\n                else s.wrapper.transform('translate(' + x + 'px, ' + y + 'px)');\n            }\n        \n            s.translate = s.isHorizontal() ? x : y;\n        \n            // Check if we need to update progress\n            var progress;\n            var translatesDiff = s.maxTranslate() - s.minTranslate();\n            if (translatesDiff === 0) {\n                progress = 0;\n            }\n            else {\n                progress = (translate - s.minTranslate()) / (translatesDiff);\n            }\n            if (progress !== s.progress) {\n                s.updateProgress(translate);\n            }\n        \n            if (updateActiveIndex) s.updateActiveIndex();\n            if (s.params.effect !== 'slide' && s.effects[s.params.effect]) {\n                s.effects[s.params.effect].setTranslate(s.translate);\n            }\n            if (s.params.parallax && s.parallax) {\n                s.parallax.setTranslate(s.translate);\n            }\n            if (s.params.scrollbar && s.scrollbar) {\n                s.scrollbar.setTranslate(s.translate);\n            }\n            if (s.params.control && s.controller) {\n                s.controller.setTranslate(s.translate, byController);\n            }\n            s.emit('onSetTranslate', s, s.translate);\n        };\n        \n        s.getTranslate = function (el, axis) {\n            var matrix, curTransform, curStyle, transformMatrix;\n        \n            // automatic axis detection\n            if (typeof axis === 'undefined') {\n                axis = 'x';\n            }\n        \n            if (s.params.virtualTranslate) {\n                return s.rtl ? -s.translate : s.translate;\n            }\n        \n            curStyle = window.getComputedStyle(el, null);\n            if (window.WebKitCSSMatrix) {\n                curTransform = curStyle.transform || curStyle.webkitTransform;\n                if (curTransform.split(',').length > 6) {\n                    curTransform = curTransform.split(', ').map(function(a){\n                        return a.replace(',','.');\n                    }).join(', ');\n                }\n                // Some old versions of Webkit choke when 'none' is passed; pass\n                // empty string instead in this case\n                transformMatrix = new window.WebKitCSSMatrix(curTransform === 'none' ? '' : curTransform);\n            }\n            else {\n                transformMatrix = curStyle.MozTransform || curStyle.OTransform || curStyle.MsTransform || curStyle.msTransform  || curStyle.transform || curStyle.getPropertyValue('transform').replace('translate(', 'matrix(1, 0, 0, 1,');\n                matrix = transformMatrix.toString().split(',');\n            }\n        \n            if (axis === 'x') {\n                //Latest Chrome and webkits Fix\n                if (window.WebKitCSSMatrix)\n                    curTransform = transformMatrix.m41;\n                //Crazy IE10 Matrix\n                else if (matrix.length === 16)\n                    curTransform = parseFloat(matrix[12]);\n                //Normal Browsers\n                else\n                    curTransform = parseFloat(matrix[4]);\n            }\n            if (axis === 'y') {\n                //Latest Chrome and webkits Fix\n                if (window.WebKitCSSMatrix)\n                    curTransform = transformMatrix.m42;\n                //Crazy IE10 Matrix\n                else if (matrix.length === 16)\n                    curTransform = parseFloat(matrix[13]);\n                //Normal Browsers\n                else\n                    curTransform = parseFloat(matrix[5]);\n            }\n            if (s.rtl && curTransform) curTransform = -curTransform;\n            return curTransform || 0;\n        };\n        s.getWrapperTranslate = function (axis) {\n            if (typeof axis === 'undefined') {\n                axis = s.isHorizontal() ? 'x' : 'y';\n            }\n            return s.getTranslate(s.wrapper[0], axis);\n        };\n        \n        /*=========================\n          Observer\n          ===========================*/\n        s.observers = [];\n        function initObserver(target, options) {\n            options = options || {};\n            // create an observer instance\n            var ObserverFunc = window.MutationObserver || window.WebkitMutationObserver;\n            var observer = new ObserverFunc(function (mutations) {\n                mutations.forEach(function (mutation) {\n                    s.onResize(true);\n                    s.emit('onObserverUpdate', s, mutation);\n                });\n            });\n        \n            observer.observe(target, {\n                attributes: typeof options.attributes === 'undefined' ? true : options.attributes,\n                childList: typeof options.childList === 'undefined' ? true : options.childList,\n                characterData: typeof options.characterData === 'undefined' ? true : options.characterData\n            });\n        \n            s.observers.push(observer);\n        }\n        s.initObservers = function () {\n            if (s.params.observeParents) {\n                var containerParents = s.container.parents();\n                for (var i = 0; i < containerParents.length; i++) {\n                    initObserver(containerParents[i]);\n                }\n            }\n        \n            // Observe container\n            initObserver(s.container[0], {childList: false});\n        \n            // Observe wrapper\n            initObserver(s.wrapper[0], {attributes: false});\n        };\n        s.disconnectObservers = function () {\n            for (var i = 0; i < s.observers.length; i++) {\n                s.observers[i].disconnect();\n            }\n            s.observers = [];\n        };\n        /*=========================\n          Loop\n          ===========================*/\n        // Create looped slides\n        s.createLoop = function () {\n            // Remove duplicated slides\n            s.wrapper.children('.' + s.params.slideClass + '.' + s.params.slideDuplicateClass).remove();\n        \n            var slides = s.wrapper.children('.' + s.params.slideClass);\n        \n            if(s.params.slidesPerView === 'auto' && !s.params.loopedSlides) s.params.loopedSlides = slides.length;\n        \n            s.loopedSlides = parseInt(s.params.loopedSlides || s.params.slidesPerView, 10);\n            s.loopedSlides = s.loopedSlides + s.params.loopAdditionalSlides;\n            if (s.loopedSlides > slides.length) {\n                s.loopedSlides = slides.length;\n            }\n        \n            var prependSlides = [], appendSlides = [], i;\n            slides.each(function (index, el) {\n                var slide = $(this);\n                if (index < s.loopedSlides) appendSlides.push(el);\n                if (index < slides.length && index >= slides.length - s.loopedSlides) prependSlides.push(el);\n                slide.attr('data-swiper-slide-index', index);\n            });\n            for (i = 0; i < appendSlides.length; i++) {\n                s.wrapper.append($(appendSlides[i].cloneNode(true)).addClass(s.params.slideDuplicateClass));\n            }\n            for (i = prependSlides.length - 1; i >= 0; i--) {\n                s.wrapper.prepend($(prependSlides[i].cloneNode(true)).addClass(s.params.slideDuplicateClass));\n            }\n        };\n        s.destroyLoop = function () {\n            s.wrapper.children('.' + s.params.slideClass + '.' + s.params.slideDuplicateClass).remove();\n            s.slides.removeAttr('data-swiper-slide-index');\n        };\n        s.reLoop = function (updatePosition) {\n            var oldIndex = s.activeIndex - s.loopedSlides;\n            s.destroyLoop();\n            s.createLoop();\n            s.updateSlidesSize();\n            if (updatePosition) {\n                s.slideTo(oldIndex + s.loopedSlides, 0, false);\n            }\n        \n        };\n        s.fixLoop = function () {\n            var newIndex;\n            //Fix For Negative Oversliding\n            if (s.activeIndex < s.loopedSlides) {\n                newIndex = s.slides.length - s.loopedSlides * 3 + s.activeIndex;\n                newIndex = newIndex + s.loopedSlides;\n                s.slideTo(newIndex, 0, false, true);\n            }\n            //Fix For Positive Oversliding\n            else if ((s.params.slidesPerView === 'auto' && s.activeIndex >= s.loopedSlides * 2) || (s.activeIndex > s.slides.length - s.params.slidesPerView * 2)) {\n                newIndex = -s.slides.length + s.activeIndex + s.loopedSlides;\n                newIndex = newIndex + s.loopedSlides;\n                s.slideTo(newIndex, 0, false, true);\n            }\n        };\n        /*=========================\n          Append/Prepend/Remove Slides\n          ===========================*/\n        s.appendSlide = function (slides) {\n            if (s.params.loop) {\n                s.destroyLoop();\n            }\n            if (typeof slides === 'object' && slides.length) {\n                for (var i = 0; i < slides.length; i++) {\n                    if (slides[i]) s.wrapper.append(slides[i]);\n                }\n            }\n            else {\n                s.wrapper.append(slides);\n            }\n            if (s.params.loop) {\n                s.createLoop();\n            }\n            if (!(s.params.observer && s.support.observer)) {\n                s.update(true);\n            }\n        };\n        s.prependSlide = function (slides) {\n            if (s.params.loop) {\n                s.destroyLoop();\n            }\n            var newActiveIndex = s.activeIndex + 1;\n            if (typeof slides === 'object' && slides.length) {\n                for (var i = 0; i < slides.length; i++) {\n                    if (slides[i]) s.wrapper.prepend(slides[i]);\n                }\n                newActiveIndex = s.activeIndex + slides.length;\n            }\n            else {\n                s.wrapper.prepend(slides);\n            }\n            if (s.params.loop) {\n                s.createLoop();\n            }\n            if (!(s.params.observer && s.support.observer)) {\n                s.update(true);\n            }\n            s.slideTo(newActiveIndex, 0, false);\n        };\n        s.removeSlide = function (slidesIndexes) {\n            if (s.params.loop) {\n                s.destroyLoop();\n                s.slides = s.wrapper.children('.' + s.params.slideClass);\n            }\n            var newActiveIndex = s.activeIndex,\n                indexToRemove;\n            if (typeof slidesIndexes === 'object' && slidesIndexes.length) {\n                for (var i = 0; i < slidesIndexes.length; i++) {\n                    indexToRemove = slidesIndexes[i];\n                    if (s.slides[indexToRemove]) s.slides.eq(indexToRemove).remove();\n                    if (indexToRemove < newActiveIndex) newActiveIndex--;\n                }\n                newActiveIndex = Math.max(newActiveIndex, 0);\n            }\n            else {\n                indexToRemove = slidesIndexes;\n                if (s.slides[indexToRemove]) s.slides.eq(indexToRemove).remove();\n                if (indexToRemove < newActiveIndex) newActiveIndex--;\n                newActiveIndex = Math.max(newActiveIndex, 0);\n            }\n        \n            if (s.params.loop) {\n                s.createLoop();\n            }\n        \n            if (!(s.params.observer && s.support.observer)) {\n                s.update(true);\n            }\n            if (s.params.loop) {\n                s.slideTo(newActiveIndex + s.loopedSlides, 0, false);\n            }\n            else {\n                s.slideTo(newActiveIndex, 0, false);\n            }\n        \n        };\n        s.removeAllSlides = function () {\n            var slidesIndexes = [];\n            for (var i = 0; i < s.slides.length; i++) {\n                slidesIndexes.push(i);\n            }\n            s.removeSlide(slidesIndexes);\n        };\n        \n\n        /*=========================\n          Effects\n          ===========================*/\n        s.effects = {\n            fade: {\n                setTranslate: function () {\n                    for (var i = 0; i < s.slides.length; i++) {\n                        var slide = s.slides.eq(i);\n                        var offset = slide[0].swiperSlideOffset;\n                        var tx = -offset;\n                        if (!s.params.virtualTranslate) tx = tx - s.translate;\n                        var ty = 0;\n                        if (!s.isHorizontal()) {\n                            ty = tx;\n                            tx = 0;\n                        }\n                        var slideOpacity = s.params.fade.crossFade ?\n                                Math.max(1 - Math.abs(slide[0].progress), 0) :\n                                1 + Math.min(Math.max(slide[0].progress, -1), 0);\n                        slide\n                            .css({\n                                opacity: slideOpacity\n                            })\n                            .transform('translate3d(' + tx + 'px, ' + ty + 'px, 0px)');\n        \n                    }\n        \n                },\n                setTransition: function (duration) {\n                    s.slides.transition(duration);\n                    if (s.params.virtualTranslate && duration !== 0) {\n                        var eventTriggered = false;\n                        s.slides.transitionEnd(function () {\n                            if (eventTriggered) return;\n                            if (!s) return;\n                            eventTriggered = true;\n                            s.animating = false;\n                            var triggerEvents = ['webkitTransitionEnd', 'transitionend', 'oTransitionEnd', 'MSTransitionEnd', 'msTransitionEnd'];\n                            for (var i = 0; i < triggerEvents.length; i++) {\n                                s.wrapper.trigger(triggerEvents[i]);\n                            }\n                        });\n                    }\n                }\n            },\n            flip: {\n                setTranslate: function () {\n                    for (var i = 0; i < s.slides.length; i++) {\n                        var slide = s.slides.eq(i);\n                        var progress = slide[0].progress;\n                        if (s.params.flip.limitRotation) {\n                            progress = Math.max(Math.min(slide[0].progress, 1), -1);\n                        }\n                        var offset = slide[0].swiperSlideOffset;\n                        var rotate = -180 * progress,\n                            rotateY = rotate,\n                            rotateX = 0,\n                            tx = -offset,\n                            ty = 0;\n                        if (!s.isHorizontal()) {\n                            ty = tx;\n                            tx = 0;\n                            rotateX = -rotateY;\n                            rotateY = 0;\n                        }\n                        else if (s.rtl) {\n                            rotateY = -rotateY;\n                        }\n        \n                        slide[0].style.zIndex = -Math.abs(Math.round(progress)) + s.slides.length;\n        \n                        if (s.params.flip.slideShadows) {\n                            //Set shadows\n                            var shadowBefore = s.isHorizontal() ? slide.find('.swiper-slide-shadow-left') : slide.find('.swiper-slide-shadow-top');\n                            var shadowAfter = s.isHorizontal() ? slide.find('.swiper-slide-shadow-right') : slide.find('.swiper-slide-shadow-bottom');\n                            if (shadowBefore.length === 0) {\n                                shadowBefore = $('<div class=\"swiper-slide-shadow-' + (s.isHorizontal() ? 'left' : 'top') + '\"></div>');\n                                slide.append(shadowBefore);\n                            }\n                            if (shadowAfter.length === 0) {\n                                shadowAfter = $('<div class=\"swiper-slide-shadow-' + (s.isHorizontal() ? 'right' : 'bottom') + '\"></div>');\n                                slide.append(shadowAfter);\n                            }\n                            if (shadowBefore.length) shadowBefore[0].style.opacity = Math.max(-progress, 0);\n                            if (shadowAfter.length) shadowAfter[0].style.opacity = Math.max(progress, 0);\n                        }\n        \n                        slide\n                            .transform('translate3d(' + tx + 'px, ' + ty + 'px, 0px) rotateX(' + rotateX + 'deg) rotateY(' + rotateY + 'deg)');\n                    }\n                },\n                setTransition: function (duration) {\n                    s.slides.transition(duration).find('.swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left').transition(duration);\n                    if (s.params.virtualTranslate && duration !== 0) {\n                        var eventTriggered = false;\n                        s.slides.eq(s.activeIndex).transitionEnd(function () {\n                            if (eventTriggered) return;\n                            if (!s) return;\n                            if (!$(this).hasClass(s.params.slideActiveClass)) return;\n                            eventTriggered = true;\n                            s.animating = false;\n                            var triggerEvents = ['webkitTransitionEnd', 'transitionend', 'oTransitionEnd', 'MSTransitionEnd', 'msTransitionEnd'];\n                            for (var i = 0; i < triggerEvents.length; i++) {\n                                s.wrapper.trigger(triggerEvents[i]);\n                            }\n                        });\n                    }\n                }\n            },\n            cube: {\n                setTranslate: function () {\n                    var wrapperRotate = 0, cubeShadow;\n                    if (s.params.cube.shadow) {\n                        if (s.isHorizontal()) {\n                            cubeShadow = s.wrapper.find('.swiper-cube-shadow');\n                            if (cubeShadow.length === 0) {\n                                cubeShadow = $('<div class=\"swiper-cube-shadow\"></div>');\n                                s.wrapper.append(cubeShadow);\n                            }\n                            cubeShadow.css({height: s.width + 'px'});\n                        }\n                        else {\n                            cubeShadow = s.container.find('.swiper-cube-shadow');\n                            if (cubeShadow.length === 0) {\n                                cubeShadow = $('<div class=\"swiper-cube-shadow\"></div>');\n                                s.container.append(cubeShadow);\n                            }\n                        }\n                    }\n                    for (var i = 0; i < s.slides.length; i++) {\n                        var slide = s.slides.eq(i);\n                        var slideAngle = i * 90;\n                        var round = Math.floor(slideAngle / 360);\n                        if (s.rtl) {\n                            slideAngle = -slideAngle;\n                            round = Math.floor(-slideAngle / 360);\n                        }\n                        var progress = Math.max(Math.min(slide[0].progress, 1), -1);\n                        var tx = 0, ty = 0, tz = 0;\n                        if (i % 4 === 0) {\n                            tx = - round * 4 * s.size;\n                            tz = 0;\n                        }\n                        else if ((i - 1) % 4 === 0) {\n                            tx = 0;\n                            tz = - round * 4 * s.size;\n                        }\n                        else if ((i - 2) % 4 === 0) {\n                            tx = s.size + round * 4 * s.size;\n                            tz = s.size;\n                        }\n                        else if ((i - 3) % 4 === 0) {\n                            tx = - s.size;\n                            tz = 3 * s.size + s.size * 4 * round;\n                        }\n                        if (s.rtl) {\n                            tx = -tx;\n                        }\n        \n                        if (!s.isHorizontal()) {\n                            ty = tx;\n                            tx = 0;\n                        }\n        \n                        var transform = 'rotateX(' + (s.isHorizontal() ? 0 : -slideAngle) + 'deg) rotateY(' + (s.isHorizontal() ? slideAngle : 0) + 'deg) translate3d(' + tx + 'px, ' + ty + 'px, ' + tz + 'px)';\n                        if (progress <= 1 && progress > -1) {\n                            wrapperRotate = i * 90 + progress * 90;\n                            if (s.rtl) wrapperRotate = -i * 90 - progress * 90;\n                        }\n                        slide.transform(transform);\n                        if (s.params.cube.slideShadows) {\n                            //Set shadows\n                            var shadowBefore = s.isHorizontal() ? slide.find('.swiper-slide-shadow-left') : slide.find('.swiper-slide-shadow-top');\n                            var shadowAfter = s.isHorizontal() ? slide.find('.swiper-slide-shadow-right') : slide.find('.swiper-slide-shadow-bottom');\n                            if (shadowBefore.length === 0) {\n                                shadowBefore = $('<div class=\"swiper-slide-shadow-' + (s.isHorizontal() ? 'left' : 'top') + '\"></div>');\n                                slide.append(shadowBefore);\n                            }\n                            if (shadowAfter.length === 0) {\n                                shadowAfter = $('<div class=\"swiper-slide-shadow-' + (s.isHorizontal() ? 'right' : 'bottom') + '\"></div>');\n                                slide.append(shadowAfter);\n                            }\n                            if (shadowBefore.length) shadowBefore[0].style.opacity = Math.max(-progress, 0);\n                            if (shadowAfter.length) shadowAfter[0].style.opacity = Math.max(progress, 0);\n                        }\n                    }\n                    s.wrapper.css({\n                        '-webkit-transform-origin': '50% 50% -' + (s.size / 2) + 'px',\n                        '-moz-transform-origin': '50% 50% -' + (s.size / 2) + 'px',\n                        '-ms-transform-origin': '50% 50% -' + (s.size / 2) + 'px',\n                        'transform-origin': '50% 50% -' + (s.size / 2) + 'px'\n                    });\n        \n                    if (s.params.cube.shadow) {\n                        if (s.isHorizontal()) {\n                            cubeShadow.transform('translate3d(0px, ' + (s.width / 2 + s.params.cube.shadowOffset) + 'px, ' + (-s.width / 2) + 'px) rotateX(90deg) rotateZ(0deg) scale(' + (s.params.cube.shadowScale) + ')');\n                        }\n                        else {\n                            var shadowAngle = Math.abs(wrapperRotate) - Math.floor(Math.abs(wrapperRotate) / 90) * 90;\n                            var multiplier = 1.5 - (Math.sin(shadowAngle * 2 * Math.PI / 360) / 2 + Math.cos(shadowAngle * 2 * Math.PI / 360) / 2);\n                            var scale1 = s.params.cube.shadowScale,\n                                scale2 = s.params.cube.shadowScale / multiplier,\n                                offset = s.params.cube.shadowOffset;\n                            cubeShadow.transform('scale3d(' + scale1 + ', 1, ' + scale2 + ') translate3d(0px, ' + (s.height / 2 + offset) + 'px, ' + (-s.height / 2 / scale2) + 'px) rotateX(-90deg)');\n                        }\n                    }\n                    var zFactor = (s.isSafari || s.isUiWebView) ? (-s.size / 2) : 0;\n                    s.wrapper.transform('translate3d(0px,0,' + zFactor + 'px) rotateX(' + (s.isHorizontal() ? 0 : wrapperRotate) + 'deg) rotateY(' + (s.isHorizontal() ? -wrapperRotate : 0) + 'deg)');\n                },\n                setTransition: function (duration) {\n                    s.slides.transition(duration).find('.swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left').transition(duration);\n                    if (s.params.cube.shadow && !s.isHorizontal()) {\n                        s.container.find('.swiper-cube-shadow').transition(duration);\n                    }\n                }\n            },\n            coverflow: {\n                setTranslate: function () {\n                    var transform = s.translate;\n                    var center = s.isHorizontal() ? -transform + s.width / 2 : -transform + s.height / 2;\n                    var rotate = s.isHorizontal() ? s.params.coverflow.rotate: -s.params.coverflow.rotate;\n                    var translate = s.params.coverflow.depth;\n                    //Each slide offset from center\n                    for (var i = 0, length = s.slides.length; i < length; i++) {\n                        var slide = s.slides.eq(i);\n                        var slideSize = s.slidesSizesGrid[i];\n                        var slideOffset = slide[0].swiperSlideOffset;\n                        var offsetMultiplier = (center - slideOffset - slideSize / 2) / slideSize * s.params.coverflow.modifier;\n        \n                        var rotateY = s.isHorizontal() ? rotate * offsetMultiplier : 0;\n                        var rotateX = s.isHorizontal() ? 0 : rotate * offsetMultiplier;\n                        // var rotateZ = 0\n                        var translateZ = -translate * Math.abs(offsetMultiplier);\n        \n                        var translateY = s.isHorizontal() ? 0 : s.params.coverflow.stretch * (offsetMultiplier);\n                        var translateX = s.isHorizontal() ? s.params.coverflow.stretch * (offsetMultiplier) : 0;\n        \n                        //Fix for ultra small values\n                        if (Math.abs(translateX) < 0.001) translateX = 0;\n                        if (Math.abs(translateY) < 0.001) translateY = 0;\n                        if (Math.abs(translateZ) < 0.001) translateZ = 0;\n                        if (Math.abs(rotateY) < 0.001) rotateY = 0;\n                        if (Math.abs(rotateX) < 0.001) rotateX = 0;\n        \n                        var slideTransform = 'translate3d(' + translateX + 'px,' + translateY + 'px,' + translateZ + 'px)  rotateX(' + rotateX + 'deg) rotateY(' + rotateY + 'deg)';\n        \n                        slide.transform(slideTransform);\n                        slide[0].style.zIndex = -Math.abs(Math.round(offsetMultiplier)) + 1;\n                        if (s.params.coverflow.slideShadows) {\n                            //Set shadows\n                            var shadowBefore = s.isHorizontal() ? slide.find('.swiper-slide-shadow-left') : slide.find('.swiper-slide-shadow-top');\n                            var shadowAfter = s.isHorizontal() ? slide.find('.swiper-slide-shadow-right') : slide.find('.swiper-slide-shadow-bottom');\n                            if (shadowBefore.length === 0) {\n                                shadowBefore = $('<div class=\"swiper-slide-shadow-' + (s.isHorizontal() ? 'left' : 'top') + '\"></div>');\n                                slide.append(shadowBefore);\n                            }\n                            if (shadowAfter.length === 0) {\n                                shadowAfter = $('<div class=\"swiper-slide-shadow-' + (s.isHorizontal() ? 'right' : 'bottom') + '\"></div>');\n                                slide.append(shadowAfter);\n                            }\n                            if (shadowBefore.length) shadowBefore[0].style.opacity = offsetMultiplier > 0 ? offsetMultiplier : 0;\n                            if (shadowAfter.length) shadowAfter[0].style.opacity = (-offsetMultiplier) > 0 ? -offsetMultiplier : 0;\n                        }\n                    }\n        \n                    //Set correct perspective for IE10\n                    if (s.browser.ie) {\n                        var ws = s.wrapper[0].style;\n                        ws.perspectiveOrigin = center + 'px 50%';\n                    }\n                },\n                setTransition: function (duration) {\n                    s.slides.transition(duration).find('.swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left').transition(duration);\n                }\n            }\n        };\n\n        /*=========================\n          Images Lazy Loading\n          ===========================*/\n        s.lazy = {\n            initialImageLoaded: false,\n            loadImageInSlide: function (index, loadInDuplicate) {\n                if (typeof index === 'undefined') return;\n                if (typeof loadInDuplicate === 'undefined') loadInDuplicate = true;\n                if (s.slides.length === 0) return;\n        \n                var slide = s.slides.eq(index);\n                var img = slide.find('.swiper-lazy:not(.swiper-lazy-loaded):not(.swiper-lazy-loading)');\n                if (slide.hasClass('swiper-lazy') && !slide.hasClass('swiper-lazy-loaded') && !slide.hasClass('swiper-lazy-loading')) {\n                    img = img.add(slide[0]);\n                }\n                if (img.length === 0) return;\n        \n                img.each(function () {\n                    var _img = $(this);\n                    _img.addClass('swiper-lazy-loading');\n                    var background = _img.attr('data-background');\n                    var src = _img.attr('data-src'),\n                        srcset = _img.attr('data-srcset');\n                    s.loadImage(_img[0], (src || background), srcset, false, function () {\n                        if (background) {\n                            _img.css('background-image', 'url(\"' + background + '\")');\n                            _img.removeAttr('data-background');\n                        }\n                        else {\n                            if (srcset) {\n                                _img.attr('srcset', srcset);\n                                _img.removeAttr('data-srcset');\n                            }\n                            if (src) {\n                                _img.attr('src', src);\n                                _img.removeAttr('data-src');\n                            }\n        \n                        }\n        \n                        _img.addClass('swiper-lazy-loaded').removeClass('swiper-lazy-loading');\n                        slide.find('.swiper-lazy-preloader, .preloader').remove();\n                        if (s.params.loop && loadInDuplicate) {\n                            var slideOriginalIndex = slide.attr('data-swiper-slide-index');\n                            if (slide.hasClass(s.params.slideDuplicateClass)) {\n                                var originalSlide = s.wrapper.children('[data-swiper-slide-index=\"' + slideOriginalIndex + '\"]:not(.' + s.params.slideDuplicateClass + ')');\n                                s.lazy.loadImageInSlide(originalSlide.index(), false);\n                            }\n                            else {\n                                var duplicatedSlide = s.wrapper.children('.' + s.params.slideDuplicateClass + '[data-swiper-slide-index=\"' + slideOriginalIndex + '\"]');\n                                s.lazy.loadImageInSlide(duplicatedSlide.index(), false);\n                            }\n                        }\n                        s.emit('onLazyImageReady', s, slide[0], _img[0]);\n                    });\n        \n                    s.emit('onLazyImageLoad', s, slide[0], _img[0]);\n                });\n        \n            },\n            load: function () {\n                var i;\n                if (s.params.watchSlidesVisibility) {\n                    s.wrapper.children('.' + s.params.slideVisibleClass).each(function () {\n                        s.lazy.loadImageInSlide($(this).index());\n                    });\n                }\n                else {\n                    if (s.params.slidesPerView > 1) {\n                        for (i = s.activeIndex; i < s.activeIndex + s.params.slidesPerView ; i++) {\n                            if (s.slides[i]) s.lazy.loadImageInSlide(i);\n                        }\n                    }\n                    else {\n                        s.lazy.loadImageInSlide(s.activeIndex);\n                    }\n                }\n                if (s.params.lazyLoadingInPrevNext) {\n                    if (s.params.slidesPerView > 1 || (s.params.lazyLoadingInPrevNextAmount && s.params.lazyLoadingInPrevNextAmount > 1)) {\n                        var amount = s.params.lazyLoadingInPrevNextAmount;\n                        var spv = s.params.slidesPerView;\n                        var maxIndex = Math.min(s.activeIndex + spv + Math.max(amount, spv), s.slides.length);\n                        var minIndex = Math.max(s.activeIndex - Math.max(spv, amount), 0);\n                        // Next Slides\n                        for (i = s.activeIndex + s.params.slidesPerView; i < maxIndex; i++) {\n                            if (s.slides[i]) s.lazy.loadImageInSlide(i);\n                        }\n                        // Prev Slides\n                        for (i = minIndex; i < s.activeIndex ; i++) {\n                            if (s.slides[i]) s.lazy.loadImageInSlide(i);\n                        }\n                    }\n                    else {\n                        var nextSlide = s.wrapper.children('.' + s.params.slideNextClass);\n                        if (nextSlide.length > 0) s.lazy.loadImageInSlide(nextSlide.index());\n        \n                        var prevSlide = s.wrapper.children('.' + s.params.slidePrevClass);\n                        if (prevSlide.length > 0) s.lazy.loadImageInSlide(prevSlide.index());\n                    }\n                }\n            },\n            onTransitionStart: function () {\n                if (s.params.lazyLoading) {\n                    if (s.params.lazyLoadingOnTransitionStart || (!s.params.lazyLoadingOnTransitionStart && !s.lazy.initialImageLoaded)) {\n                        s.lazy.load();\n                    }\n                }\n            },\n            onTransitionEnd: function () {\n                if (s.params.lazyLoading && !s.params.lazyLoadingOnTransitionStart) {\n                    s.lazy.load();\n                }\n            }\n        };\n        \n\n        /*=========================\n          Scrollbar\n          ===========================*/\n        s.scrollbar = {\n            isTouched: false,\n            setDragPosition: function (e) {\n                var sb = s.scrollbar;\n                var x = 0, y = 0;\n                var translate;\n                var pointerPosition = s.isHorizontal() ?\n                    ((e.type === 'touchstart' || e.type === 'touchmove') ? e.targetTouches[0].pageX : e.pageX || e.clientX) :\n                    ((e.type === 'touchstart' || e.type === 'touchmove') ? e.targetTouches[0].pageY : e.pageY || e.clientY) ;\n                var position = (pointerPosition) - sb.track.offset()[s.isHorizontal() ? 'left' : 'top'] - sb.dragSize / 2;\n                var positionMin = -s.minTranslate() * sb.moveDivider;\n                var positionMax = -s.maxTranslate() * sb.moveDivider;\n                if (position < positionMin) {\n                    position = positionMin;\n                }\n                else if (position > positionMax) {\n                    position = positionMax;\n                }\n                position = -position / sb.moveDivider;\n                s.updateProgress(position);\n                s.setWrapperTranslate(position, true);\n            },\n            dragStart: function (e) {\n                var sb = s.scrollbar;\n                sb.isTouched = true;\n                e.preventDefault();\n                e.stopPropagation();\n        \n                sb.setDragPosition(e);\n                clearTimeout(sb.dragTimeout);\n        \n                sb.track.transition(0);\n                if (s.params.scrollbarHide) {\n                    sb.track.css('opacity', 1);\n                }\n                s.wrapper.transition(100);\n                sb.drag.transition(100);\n                s.emit('onScrollbarDragStart', s);\n            },\n            dragMove: function (e) {\n                var sb = s.scrollbar;\n                if (!sb.isTouched) return;\n                if (e.preventDefault) e.preventDefault();\n                else e.returnValue = false;\n                sb.setDragPosition(e);\n                s.wrapper.transition(0);\n                sb.track.transition(0);\n                sb.drag.transition(0);\n                s.emit('onScrollbarDragMove', s);\n            },\n            dragEnd: function (e) {\n                var sb = s.scrollbar;\n                if (!sb.isTouched) return;\n                sb.isTouched = false;\n                if (s.params.scrollbarHide) {\n                    clearTimeout(sb.dragTimeout);\n                    sb.dragTimeout = setTimeout(function () {\n                        sb.track.css('opacity', 0);\n                        sb.track.transition(400);\n                    }, 1000);\n        \n                }\n                s.emit('onScrollbarDragEnd', s);\n                if (s.params.scrollbarSnapOnRelease) {\n                    s.slideReset();\n                }\n            },\n            enableDraggable: function () {\n                var sb = s.scrollbar;\n                var target = s.support.touch ? sb.track : document;\n                $(sb.track).on(s.touchEvents.start, sb.dragStart);\n                $(target).on(s.touchEvents.move, sb.dragMove);\n                $(target).on(s.touchEvents.end, sb.dragEnd);\n            },\n            disableDraggable: function () {\n                var sb = s.scrollbar;\n                var target = s.support.touch ? sb.track : document;\n                $(sb.track).off(s.touchEvents.start, sb.dragStart);\n                $(target).off(s.touchEvents.move, sb.dragMove);\n                $(target).off(s.touchEvents.end, sb.dragEnd);\n            },\n            set: function () {\n                if (!s.params.scrollbar) return;\n                var sb = s.scrollbar;\n                sb.track = $(s.params.scrollbar);\n                if (s.params.uniqueNavElements && typeof s.params.scrollbar === 'string' && sb.track.length > 1 && s.container.find(s.params.scrollbar).length === 1) {\n                    sb.track = s.container.find(s.params.scrollbar);\n                }\n                sb.drag = sb.track.find('.swiper-scrollbar-drag');\n                if (sb.drag.length === 0) {\n                    sb.drag = $('<div class=\"swiper-scrollbar-drag\"></div>');\n                    sb.track.append(sb.drag);\n                }\n                sb.drag[0].style.width = '';\n                sb.drag[0].style.height = '';\n                sb.trackSize = s.isHorizontal() ? sb.track[0].offsetWidth : sb.track[0].offsetHeight;\n        \n                sb.divider = s.size / s.virtualSize;\n                sb.moveDivider = sb.divider * (sb.trackSize / s.size);\n                sb.dragSize = sb.trackSize * sb.divider;\n        \n                if (s.isHorizontal()) {\n                    sb.drag[0].style.width = sb.dragSize + 'px';\n                }\n                else {\n                    sb.drag[0].style.height = sb.dragSize + 'px';\n                }\n        \n                if (sb.divider >= 1) {\n                    sb.track[0].style.display = 'none';\n                }\n                else {\n                    sb.track[0].style.display = '';\n                }\n                if (s.params.scrollbarHide) {\n                    sb.track[0].style.opacity = 0;\n                }\n            },\n            setTranslate: function () {\n                if (!s.params.scrollbar) return;\n                var diff;\n                var sb = s.scrollbar;\n                var translate = s.translate || 0;\n                var newPos;\n        \n                var newSize = sb.dragSize;\n                newPos = (sb.trackSize - sb.dragSize) * s.progress;\n                if (s.rtl && s.isHorizontal()) {\n                    newPos = -newPos;\n                    if (newPos > 0) {\n                        newSize = sb.dragSize - newPos;\n                        newPos = 0;\n                    }\n                    else if (-newPos + sb.dragSize > sb.trackSize) {\n                        newSize = sb.trackSize + newPos;\n                    }\n                }\n                else {\n                    if (newPos < 0) {\n                        newSize = sb.dragSize + newPos;\n                        newPos = 0;\n                    }\n                    else if (newPos + sb.dragSize > sb.trackSize) {\n                        newSize = sb.trackSize - newPos;\n                    }\n                }\n                if (s.isHorizontal()) {\n                    if (s.support.transforms3d) {\n                        sb.drag.transform('translate3d(' + (newPos) + 'px, 0, 0)');\n                    }\n                    else {\n                        sb.drag.transform('translateX(' + (newPos) + 'px)');\n                    }\n                    sb.drag[0].style.width = newSize + 'px';\n                }\n                else {\n                    if (s.support.transforms3d) {\n                        sb.drag.transform('translate3d(0px, ' + (newPos) + 'px, 0)');\n                    }\n                    else {\n                        sb.drag.transform('translateY(' + (newPos) + 'px)');\n                    }\n                    sb.drag[0].style.height = newSize + 'px';\n                }\n                if (s.params.scrollbarHide) {\n                    clearTimeout(sb.timeout);\n                    sb.track[0].style.opacity = 1;\n                    sb.timeout = setTimeout(function () {\n                        sb.track[0].style.opacity = 0;\n                        sb.track.transition(400);\n                    }, 1000);\n                }\n            },\n            setTransition: function (duration) {\n                if (!s.params.scrollbar) return;\n                s.scrollbar.drag.transition(duration);\n            }\n        };\n\n        /*=========================\n          Controller\n          ===========================*/\n        s.controller = {\n            LinearSpline: function (x, y) {\n                this.x = x;\n                this.y = y;\n                this.lastIndex = x.length - 1;\n                // Given an x value (x2), return the expected y2 value:\n                // (x1,y1) is the known point before given value,\n                // (x3,y3) is the known point after given value.\n                var i1, i3;\n                var l = this.x.length;\n        \n                this.interpolate = function (x2) {\n                    if (!x2) return 0;\n        \n                    // Get the indexes of x1 and x3 (the array indexes before and after given x2):\n                    i3 = binarySearch(this.x, x2);\n                    i1 = i3 - 1;\n        \n                    // We have our indexes i1 & i3, so we can calculate already:\n                    // y2 := ((x2−x1) × (y3−y1)) ÷ (x3−x1) + y1\n                    return ((x2 - this.x[i1]) * (this.y[i3] - this.y[i1])) / (this.x[i3] - this.x[i1]) + this.y[i1];\n                };\n        \n                var binarySearch = (function() {\n                    var maxIndex, minIndex, guess;\n                    return function(array, val) {\n                        minIndex = -1;\n                        maxIndex = array.length;\n                        while (maxIndex - minIndex > 1)\n                            if (array[guess = maxIndex + minIndex >> 1] <= val) {\n                                minIndex = guess;\n                            } else {\n                                maxIndex = guess;\n                            }\n                        return maxIndex;\n                    };\n                })();\n            },\n            //xxx: for now i will just save one spline function to to\n            getInterpolateFunction: function(c){\n                if(!s.controller.spline) s.controller.spline = s.params.loop ?\n                    new s.controller.LinearSpline(s.slidesGrid, c.slidesGrid) :\n                    new s.controller.LinearSpline(s.snapGrid, c.snapGrid);\n            },\n            setTranslate: function (translate, byController) {\n               var controlled = s.params.control;\n               var multiplier, controlledTranslate;\n               function setControlledTranslate(c) {\n                    // this will create an Interpolate function based on the snapGrids\n                    // x is the Grid of the scrolled scroller and y will be the controlled scroller\n                    // it makes sense to create this only once and recall it for the interpolation\n                    // the function does a lot of value caching for performance\n                    translate = c.rtl && c.params.direction === 'horizontal' ? -s.translate : s.translate;\n                    if (s.params.controlBy === 'slide') {\n                        s.controller.getInterpolateFunction(c);\n                        // i am not sure why the values have to be multiplicated this way, tried to invert the snapGrid\n                        // but it did not work out\n                        controlledTranslate = -s.controller.spline.interpolate(-translate);\n                    }\n        \n                    if(!controlledTranslate || s.params.controlBy === 'container'){\n                        multiplier = (c.maxTranslate() - c.minTranslate()) / (s.maxTranslate() - s.minTranslate());\n                        controlledTranslate = (translate - s.minTranslate()) * multiplier + c.minTranslate();\n                    }\n        \n                    if (s.params.controlInverse) {\n                        controlledTranslate = c.maxTranslate() - controlledTranslate;\n                    }\n                    c.updateProgress(controlledTranslate);\n                    c.setWrapperTranslate(controlledTranslate, false, s);\n                    c.updateActiveIndex();\n               }\n               if (s.isArray(controlled)) {\n                   for (var i = 0; i < controlled.length; i++) {\n                       if (controlled[i] !== byController && controlled[i] instanceof Swiper) {\n                           setControlledTranslate(controlled[i]);\n                       }\n                   }\n               }\n               else if (controlled instanceof Swiper && byController !== controlled) {\n        \n                   setControlledTranslate(controlled);\n               }\n            },\n            setTransition: function (duration, byController) {\n                var controlled = s.params.control;\n                var i;\n                function setControlledTransition(c) {\n                    c.setWrapperTransition(duration, s);\n                    if (duration !== 0) {\n                        c.onTransitionStart();\n                        c.wrapper.transitionEnd(function(){\n                            if (!controlled) return;\n                            if (c.params.loop && s.params.controlBy === 'slide') {\n                                c.fixLoop();\n                            }\n                            c.onTransitionEnd();\n        \n                        });\n                    }\n                }\n                if (s.isArray(controlled)) {\n                    for (i = 0; i < controlled.length; i++) {\n                        if (controlled[i] !== byController && controlled[i] instanceof Swiper) {\n                            setControlledTransition(controlled[i]);\n                        }\n                    }\n                }\n                else if (controlled instanceof Swiper && byController !== controlled) {\n                    setControlledTransition(controlled);\n                }\n            }\n        };\n\n        /*=========================\n          Hash Navigation\n          ===========================*/\n        s.hashnav = {\n            init: function () {\n                if (!s.params.hashnav) return;\n                s.hashnav.initialized = true;\n                var hash = document.location.hash.replace('#', '');\n                if (!hash) return;\n                var speed = 0;\n                for (var i = 0, length = s.slides.length; i < length; i++) {\n                    var slide = s.slides.eq(i);\n                    var slideHash = slide.attr('data-hash');\n                    if (slideHash === hash && !slide.hasClass(s.params.slideDuplicateClass)) {\n                        var index = slide.index();\n                        s.slideTo(index, speed, s.params.runCallbacksOnInit, true);\n                    }\n                }\n            },\n            setHash: function () {\n                if (!s.hashnav.initialized || !s.params.hashnav) return;\n                document.location.hash = s.slides.eq(s.activeIndex).attr('data-hash') || '';\n            }\n        };\n\n        /*=========================\n          Keyboard Control\n          ===========================*/\n        function handleKeyboard(e) {\n            if (e.originalEvent) e = e.originalEvent; //jquery fix\n            var kc = e.keyCode || e.charCode;\n            // Directions locks\n            if (!s.params.allowSwipeToNext && (s.isHorizontal() && kc === 39 || !s.isHorizontal() && kc === 40)) {\n                return false;\n            }\n            if (!s.params.allowSwipeToPrev && (s.isHorizontal() && kc === 37 || !s.isHorizontal() && kc === 38)) {\n                return false;\n            }\n            if (e.shiftKey || e.altKey || e.ctrlKey || e.metaKey) {\n                return;\n            }\n            if (document.activeElement && document.activeElement.nodeName && (document.activeElement.nodeName.toLowerCase() === 'input' || document.activeElement.nodeName.toLowerCase() === 'textarea')) {\n                return;\n            }\n            if (kc === 37 || kc === 39 || kc === 38 || kc === 40) {\n                var inView = false;\n                //Check that swiper should be inside of visible area of window\n                if (s.container.parents('.swiper-slide').length > 0 && s.container.parents('.swiper-slide-active').length === 0) {\n                    return;\n                }\n                var windowScroll = {\n                    left: window.pageXOffset,\n                    top: window.pageYOffset\n                };\n                var windowWidth = window.innerWidth;\n                var windowHeight = window.innerHeight;\n                var swiperOffset = s.container.offset();\n                if (s.rtl) swiperOffset.left = swiperOffset.left - s.container[0].scrollLeft;\n                var swiperCoord = [\n                    [swiperOffset.left, swiperOffset.top],\n                    [swiperOffset.left + s.width, swiperOffset.top],\n                    [swiperOffset.left, swiperOffset.top + s.height],\n                    [swiperOffset.left + s.width, swiperOffset.top + s.height]\n                ];\n                for (var i = 0; i < swiperCoord.length; i++) {\n                    var point = swiperCoord[i];\n                    if (\n                        point[0] >= windowScroll.left && point[0] <= windowScroll.left + windowWidth &&\n                        point[1] >= windowScroll.top && point[1] <= windowScroll.top + windowHeight\n                    ) {\n                        inView = true;\n                    }\n        \n                }\n                if (!inView) return;\n            }\n            if (s.isHorizontal()) {\n                if (kc === 37 || kc === 39) {\n                    if (e.preventDefault) e.preventDefault();\n                    else e.returnValue = false;\n                }\n                if ((kc === 39 && !s.rtl) || (kc === 37 && s.rtl)) s.slideNext();\n                if ((kc === 37 && !s.rtl) || (kc === 39 && s.rtl)) s.slidePrev();\n            }\n            else {\n                if (kc === 38 || kc === 40) {\n                    if (e.preventDefault) e.preventDefault();\n                    else e.returnValue = false;\n                }\n                if (kc === 40) s.slideNext();\n                if (kc === 38) s.slidePrev();\n            }\n        }\n        s.disableKeyboardControl = function () {\n            s.params.keyboardControl = false;\n            $(document).off('keydown', handleKeyboard);\n        };\n        s.enableKeyboardControl = function () {\n            s.params.keyboardControl = true;\n            $(document).on('keydown', handleKeyboard);\n        };\n        \n\n        /*=========================\n          Mousewheel Control\n          ===========================*/\n        s.mousewheel = {\n            event: false,\n            lastScrollTime: (new window.Date()).getTime()\n        };\n        if (s.params.mousewheelControl) {\n            try {\n                new window.WheelEvent('wheel');\n                s.mousewheel.event = 'wheel';\n            } catch (e) {\n                if (window.WheelEvent || (s.container[0] && 'wheel' in s.container[0])) {\n                    s.mousewheel.event = 'wheel';\n                }\n            }\n            if (!s.mousewheel.event && window.WheelEvent) {\n        \n            }\n            if (!s.mousewheel.event && document.onmousewheel !== undefined) {\n                s.mousewheel.event = 'mousewheel';\n            }\n            if (!s.mousewheel.event) {\n                s.mousewheel.event = 'DOMMouseScroll';\n            }\n        }\n        function handleMousewheel(e) {\n            if (e.originalEvent) e = e.originalEvent; //jquery fix\n            var we = s.mousewheel.event;\n            var delta = 0;\n            var rtlFactor = s.rtl ? -1 : 1;\n        \n            //WebKits\n            if (we === 'mousewheel') {\n                if (s.params.mousewheelForceToAxis) {\n                    if (s.isHorizontal()) {\n                        if (Math.abs(e.wheelDeltaX) > Math.abs(e.wheelDeltaY)) delta = e.wheelDeltaX * rtlFactor;\n                        else return;\n                    }\n                    else {\n                        if (Math.abs(e.wheelDeltaY) > Math.abs(e.wheelDeltaX)) delta = e.wheelDeltaY;\n                        else return;\n                    }\n                }\n                else {\n                    delta = Math.abs(e.wheelDeltaX) > Math.abs(e.wheelDeltaY) ? - e.wheelDeltaX * rtlFactor : - e.wheelDeltaY;\n                }\n            }\n            //Old FireFox\n            else if (we === 'DOMMouseScroll') delta = -e.detail;\n            //New FireFox\n            else if (we === 'wheel') {\n                if (s.params.mousewheelForceToAxis) {\n                    if (s.isHorizontal()) {\n                        if (Math.abs(e.deltaX) > Math.abs(e.deltaY)) delta = -e.deltaX * rtlFactor;\n                        else return;\n                    }\n                    else {\n                        if (Math.abs(e.deltaY) > Math.abs(e.deltaX)) delta = -e.deltaY;\n                        else return;\n                    }\n                }\n                else {\n                    delta = Math.abs(e.deltaX) > Math.abs(e.deltaY) ? - e.deltaX * rtlFactor : - e.deltaY;\n                }\n            }\n            if (delta === 0) return;\n        \n            if (s.params.mousewheelInvert) delta = -delta;\n        \n            if (!s.params.freeMode) {\n                if ((new window.Date()).getTime() - s.mousewheel.lastScrollTime > 60) {\n                    if (delta < 0) {\n                        if ((!s.isEnd || s.params.loop) && !s.animating) s.slideNext();\n                        else if (s.params.mousewheelReleaseOnEdges) return true;\n                    }\n                    else {\n                        if ((!s.isBeginning || s.params.loop) && !s.animating) s.slidePrev();\n                        else if (s.params.mousewheelReleaseOnEdges) return true;\n                    }\n                }\n                s.mousewheel.lastScrollTime = (new window.Date()).getTime();\n        \n            }\n            else {\n                //Freemode or scrollContainer:\n                var position = s.getWrapperTranslate() + delta * s.params.mousewheelSensitivity;\n                var wasBeginning = s.isBeginning,\n                    wasEnd = s.isEnd;\n        \n                if (position >= s.minTranslate()) position = s.minTranslate();\n                if (position <= s.maxTranslate()) position = s.maxTranslate();\n        \n                s.setWrapperTransition(0);\n                s.setWrapperTranslate(position);\n                s.updateProgress();\n                s.updateActiveIndex();\n        \n                if (!wasBeginning && s.isBeginning || !wasEnd && s.isEnd) {\n                    s.updateClasses();\n                }\n        \n                if (s.params.freeModeSticky) {\n                    clearTimeout(s.mousewheel.timeout);\n                    s.mousewheel.timeout = setTimeout(function () {\n                        s.slideReset();\n                    }, 300);\n                }\n                else {\n                    if (s.params.lazyLoading && s.lazy) {\n                        s.lazy.load();\n                    }\n                }\n        \n                // Return page scroll on edge positions\n                if (position === 0 || position === s.maxTranslate()) return;\n            }\n            if (s.params.autoplay) s.stopAutoplay();\n        \n            if (e.preventDefault) e.preventDefault();\n            else e.returnValue = false;\n            return false;\n        }\n        s.disableMousewheelControl = function () {\n            if (!s.mousewheel.event) return false;\n            s.container.off(s.mousewheel.event, handleMousewheel);\n            return true;\n        };\n        \n        s.enableMousewheelControl = function () {\n            if (!s.mousewheel.event) return false;\n            s.container.on(s.mousewheel.event, handleMousewheel);\n            return true;\n        };\n        \n\n        /*=========================\n          Parallax\n          ===========================*/\n        function setParallaxTransform(el, progress) {\n            el = $(el);\n            var p, pX, pY;\n            var rtlFactor = s.rtl ? -1 : 1;\n        \n            p = el.attr('data-swiper-parallax') || '0';\n            pX = el.attr('data-swiper-parallax-x');\n            pY = el.attr('data-swiper-parallax-y');\n            if (pX || pY) {\n                pX = pX || '0';\n                pY = pY || '0';\n            }\n            else {\n                if (s.isHorizontal()) {\n                    pX = p;\n                    pY = '0';\n                }\n                else {\n                    pY = p;\n                    pX = '0';\n                }\n            }\n        \n            if ((pX).indexOf('%') >= 0) {\n                pX = parseInt(pX, 10) * progress * rtlFactor + '%';\n            }\n            else {\n                pX = pX * progress * rtlFactor + 'px' ;\n            }\n            if ((pY).indexOf('%') >= 0) {\n                pY = parseInt(pY, 10) * progress + '%';\n            }\n            else {\n                pY = pY * progress + 'px' ;\n            }\n        \n            el.transform('translate3d(' + pX + ', ' + pY + ',0px)');\n        }\n        s.parallax = {\n            setTranslate: function () {\n                s.container.children('[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y]').each(function(){\n                    setParallaxTransform(this, s.progress);\n        \n                });\n                s.slides.each(function () {\n                    var slide = $(this);\n                    slide.find('[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y]').each(function () {\n                        var progress = Math.min(Math.max(slide[0].progress, -1), 1);\n                        setParallaxTransform(this, progress);\n                    });\n                });\n            },\n            setTransition: function (duration) {\n                if (typeof duration === 'undefined') duration = s.params.speed;\n                s.container.find('[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y]').each(function(){\n                    var el = $(this);\n                    var parallaxDuration = parseInt(el.attr('data-swiper-parallax-duration'), 10) || duration;\n                    if (duration === 0) parallaxDuration = 0;\n                    el.transition(parallaxDuration);\n                });\n            }\n        };\n        \n\n        /*=========================\n          Plugins API. Collect all and init all plugins\n          ===========================*/\n        s._plugins = [];\n        for (var plugin in s.plugins) {\n            var p = s.plugins[plugin](s, s.params[plugin]);\n            if (p) s._plugins.push(p);\n        }\n        // Method to call all plugins event/method\n        s.callPlugins = function (eventName) {\n            for (var i = 0; i < s._plugins.length; i++) {\n                if (eventName in s._plugins[i]) {\n                    s._plugins[i][eventName](arguments[1], arguments[2], arguments[3], arguments[4], arguments[5]);\n                }\n            }\n        };\n\n        /*=========================\n          Events/Callbacks/Plugins Emitter\n          ===========================*/\n        function normalizeEventName (eventName) {\n            if (eventName.indexOf('on') !== 0) {\n                if (eventName[0] !== eventName[0].toUpperCase()) {\n                    eventName = 'on' + eventName[0].toUpperCase() + eventName.substring(1);\n                }\n                else {\n                    eventName = 'on' + eventName;\n                }\n            }\n            return eventName;\n        }\n        s.emitterEventListeners = {\n        \n        };\n        s.emit = function (eventName) {\n            // Trigger callbacks\n            if (s.params[eventName]) {\n                s.params[eventName](arguments[1], arguments[2], arguments[3], arguments[4], arguments[5]);\n            }\n            var i;\n            // Trigger events\n            if (s.emitterEventListeners[eventName]) {\n                for (i = 0; i < s.emitterEventListeners[eventName].length; i++) {\n                    s.emitterEventListeners[eventName][i](arguments[1], arguments[2], arguments[3], arguments[4], arguments[5]);\n                }\n            }\n            // Trigger plugins\n            if (s.callPlugins) s.callPlugins(eventName, arguments[1], arguments[2], arguments[3], arguments[4], arguments[5]);\n        };\n        s.on = function (eventName, handler) {\n            eventName = normalizeEventName(eventName);\n            if (!s.emitterEventListeners[eventName]) s.emitterEventListeners[eventName] = [];\n            s.emitterEventListeners[eventName].push(handler);\n            return s;\n        };\n        s.off = function (eventName, handler) {\n            var i;\n            eventName = normalizeEventName(eventName);\n            if (typeof handler === 'undefined') {\n                // Remove all handlers for such event\n                s.emitterEventListeners[eventName] = [];\n                return s;\n            }\n            if (!s.emitterEventListeners[eventName] || s.emitterEventListeners[eventName].length === 0) return;\n            for (i = 0; i < s.emitterEventListeners[eventName].length; i++) {\n                if(s.emitterEventListeners[eventName][i] === handler) s.emitterEventListeners[eventName].splice(i, 1);\n            }\n            return s;\n        };\n        s.once = function (eventName, handler) {\n            eventName = normalizeEventName(eventName);\n            var _handler = function () {\n                handler(arguments[0], arguments[1], arguments[2], arguments[3], arguments[4]);\n                s.off(eventName, _handler);\n            };\n            s.on(eventName, _handler);\n            return s;\n        };\n\n        // Accessibility tools\n        s.a11y = {\n            makeFocusable: function ($el) {\n                $el.attr('tabIndex', '0');\n                return $el;\n            },\n            addRole: function ($el, role) {\n                $el.attr('role', role);\n                return $el;\n            },\n        \n            addLabel: function ($el, label) {\n                $el.attr('aria-label', label);\n                return $el;\n            },\n        \n            disable: function ($el) {\n                $el.attr('aria-disabled', true);\n                return $el;\n            },\n        \n            enable: function ($el) {\n                $el.attr('aria-disabled', false);\n                return $el;\n            },\n        \n            onEnterKey: function (event) {\n                if (event.keyCode !== 13) return;\n                if ($(event.target).is(s.params.nextButton)) {\n                    s.onClickNext(event);\n                    if (s.isEnd) {\n                        s.a11y.notify(s.params.lastSlideMessage);\n                    }\n                    else {\n                        s.a11y.notify(s.params.nextSlideMessage);\n                    }\n                }\n                else if ($(event.target).is(s.params.prevButton)) {\n                    s.onClickPrev(event);\n                    if (s.isBeginning) {\n                        s.a11y.notify(s.params.firstSlideMessage);\n                    }\n                    else {\n                        s.a11y.notify(s.params.prevSlideMessage);\n                    }\n                }\n                if ($(event.target).is('.' + s.params.bulletClass)) {\n                    $(event.target)[0].click();\n                }\n            },\n        \n            liveRegion: $('<span class=\"swiper-notification\" aria-live=\"assertive\" aria-atomic=\"true\"></span>'),\n        \n            notify: function (message) {\n                var notification = s.a11y.liveRegion;\n                if (notification.length === 0) return;\n                notification.html('');\n                notification.html(message);\n            },\n            init: function () {\n                // Setup accessibility\n                if (s.params.nextButton && s.nextButton && s.nextButton.length > 0) {\n                    s.a11y.makeFocusable(s.nextButton);\n                    s.a11y.addRole(s.nextButton, 'button');\n                    s.a11y.addLabel(s.nextButton, s.params.nextSlideMessage);\n                }\n                if (s.params.prevButton && s.prevButton && s.prevButton.length > 0) {\n                    s.a11y.makeFocusable(s.prevButton);\n                    s.a11y.addRole(s.prevButton, 'button');\n                    s.a11y.addLabel(s.prevButton, s.params.prevSlideMessage);\n                }\n        \n                $(s.container).append(s.a11y.liveRegion);\n            },\n            initPagination: function () {\n                if (s.params.pagination && s.params.paginationClickable && s.bullets && s.bullets.length) {\n                    s.bullets.each(function () {\n                        var bullet = $(this);\n                        s.a11y.makeFocusable(bullet);\n                        s.a11y.addRole(bullet, 'button');\n                        s.a11y.addLabel(bullet, s.params.paginationBulletMessage.replace(/{{index}}/, bullet.index() + 1));\n                    });\n                }\n            },\n            destroy: function () {\n                if (s.a11y.liveRegion && s.a11y.liveRegion.length > 0) s.a11y.liveRegion.remove();\n            }\n        };\n        \n\n        /*=========================\n          Init/Destroy\n          ===========================*/\n        s.init = function () {\n            if (s.params.loop) s.createLoop();\n            s.updateContainerSize();\n            s.updateSlidesSize();\n            s.updatePagination();\n            if (s.params.scrollbar && s.scrollbar) {\n                s.scrollbar.set();\n                if (s.params.scrollbarDraggable) {\n                    s.scrollbar.enableDraggable();\n                }\n            }\n            if (s.params.effect !== 'slide' && s.effects[s.params.effect]) {\n                if (!s.params.loop) s.updateProgress();\n                s.effects[s.params.effect].setTranslate();\n            }\n            if (s.params.loop) {\n                s.slideTo(s.params.initialSlide + s.loopedSlides, 0, s.params.runCallbacksOnInit);\n            }\n            else {\n                s.slideTo(s.params.initialSlide, 0, s.params.runCallbacksOnInit);\n                if (s.params.initialSlide === 0) {\n                    if (s.parallax && s.params.parallax) s.parallax.setTranslate();\n                    if (s.lazy && s.params.lazyLoading) {\n                        s.lazy.load();\n                        s.lazy.initialImageLoaded = true;\n                    }\n                }\n            }\n            s.attachEvents();\n            if (s.params.observer && s.support.observer) {\n                s.initObservers();\n            }\n            if (s.params.preloadImages && !s.params.lazyLoading) {\n                s.preloadImages();\n            }\n            if (s.params.autoplay) {\n                s.startAutoplay();\n            }\n            if (s.params.keyboardControl) {\n                if (s.enableKeyboardControl) s.enableKeyboardControl();\n            }\n            if (s.params.mousewheelControl) {\n                if (s.enableMousewheelControl) s.enableMousewheelControl();\n            }\n            if (s.params.hashnav) {\n                if (s.hashnav) s.hashnav.init();\n            }\n            if (s.params.a11y && s.a11y) s.a11y.init();\n            s.emit('onInit', s);\n        };\n        \n        // Cleanup dynamic styles\n        s.cleanupStyles = function () {\n            // Container\n            s.container.removeClass(s.classNames.join(' ')).removeAttr('style');\n        \n            // Wrapper\n            s.wrapper.removeAttr('style');\n        \n            // Slides\n            if (s.slides && s.slides.length) {\n                s.slides\n                    .removeClass([\n                      s.params.slideVisibleClass,\n                      s.params.slideActiveClass,\n                      s.params.slideNextClass,\n                      s.params.slidePrevClass\n                    ].join(' '))\n                    .removeAttr('style')\n                    .removeAttr('data-swiper-column')\n                    .removeAttr('data-swiper-row');\n            }\n        \n            // Pagination/Bullets\n            if (s.paginationContainer && s.paginationContainer.length) {\n                s.paginationContainer.removeClass(s.params.paginationHiddenClass);\n            }\n            if (s.bullets && s.bullets.length) {\n                s.bullets.removeClass(s.params.bulletActiveClass);\n            }\n        \n            // Buttons\n            if (s.params.prevButton) $(s.params.prevButton).removeClass(s.params.buttonDisabledClass);\n            if (s.params.nextButton) $(s.params.nextButton).removeClass(s.params.buttonDisabledClass);\n        \n            // Scrollbar\n            if (s.params.scrollbar && s.scrollbar) {\n                if (s.scrollbar.track && s.scrollbar.track.length) s.scrollbar.track.removeAttr('style');\n                if (s.scrollbar.drag && s.scrollbar.drag.length) s.scrollbar.drag.removeAttr('style');\n            }\n        };\n        \n        // Destroy\n        s.destroy = function (deleteInstance, cleanupStyles) {\n            // Detach evebts\n            s.detachEvents();\n            // Stop autoplay\n            s.stopAutoplay();\n            // Disable draggable\n            if (s.params.scrollbar && s.scrollbar) {\n                if (s.params.scrollbarDraggable) {\n                    s.scrollbar.disableDraggable();\n                }\n            }\n            // Destroy loop\n            if (s.params.loop) {\n                s.destroyLoop();\n            }\n            // Cleanup styles\n            if (cleanupStyles) {\n                s.cleanupStyles();\n            }\n            // Disconnect observer\n            s.disconnectObservers();\n            // Disable keyboard/mousewheel\n            if (s.params.keyboardControl) {\n                if (s.disableKeyboardControl) s.disableKeyboardControl();\n            }\n            if (s.params.mousewheelControl) {\n                if (s.disableMousewheelControl) s.disableMousewheelControl();\n            }\n            // Disable a11y\n            if (s.params.a11y && s.a11y) s.a11y.destroy();\n            // Destroy callback\n            s.emit('onDestroy');\n            // Delete instance\n            if (deleteInstance !== false) s = null;\n        };\n        \n        s.init();\n        \n\n    \n        // Return swiper instance\n        return s;\n    };\n    \n\n    /*==================================================\n        Prototype\n    ====================================================*/\n    Swiper.prototype = {\n        isSafari: (function () {\n            var ua = navigator.userAgent.toLowerCase();\n            return (ua.indexOf('safari') >= 0 && ua.indexOf('chrome') < 0 && ua.indexOf('android') < 0);\n        })(),\n        isUiWebView: /(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(navigator.userAgent),\n        isArray: function (arr) {\n            return Object.prototype.toString.apply(arr) === '[object Array]';\n        },\n        /*==================================================\n        Browser\n        ====================================================*/\n        browser: {\n            ie: window.navigator.pointerEnabled || window.navigator.msPointerEnabled,\n            ieTouch: (window.navigator.msPointerEnabled && window.navigator.msMaxTouchPoints > 1) || (window.navigator.pointerEnabled && window.navigator.maxTouchPoints > 1)\n        },\n        /*==================================================\n        Devices\n        ====================================================*/\n        device: (function () {\n            var ua = navigator.userAgent;\n            var android = ua.match(/(Android);?[\\s\\/]+([\\d.]+)?/);\n            var ipad = ua.match(/(iPad).*OS\\s([\\d_]+)/);\n            var ipod = ua.match(/(iPod)(.*OS\\s([\\d_]+))?/);\n            var iphone = !ipad && ua.match(/(iPhone\\sOS)\\s([\\d_]+)/);\n            return {\n                ios: ipad || iphone || ipod,\n                android: android\n            };\n        })(),\n        /*==================================================\n        Feature Detection\n        ====================================================*/\n        support: {\n            touch : (window.Modernizr && Modernizr.touch === true) || (function () {\n                return !!(('ontouchstart' in window) || window.DocumentTouch && document instanceof DocumentTouch);\n            })(),\n    \n            transforms3d : (window.Modernizr && Modernizr.csstransforms3d === true) || (function () {\n                var div = document.createElement('div').style;\n                return ('webkitPerspective' in div || 'MozPerspective' in div || 'OPerspective' in div || 'MsPerspective' in div || 'perspective' in div);\n            })(),\n    \n            flexbox: (function () {\n                var div = document.createElement('div').style;\n                var styles = ('alignItems webkitAlignItems webkitBoxAlign msFlexAlign mozBoxAlign webkitFlexDirection msFlexDirection mozBoxDirection mozBoxOrient webkitBoxDirection webkitBoxOrient').split(' ');\n                for (var i = 0; i < styles.length; i++) {\n                    if (styles[i] in div) return true;\n                }\n            })(),\n    \n            observer: (function () {\n                return ('MutationObserver' in window || 'WebkitMutationObserver' in window);\n            })()\n        },\n        /*==================================================\n        Plugins\n        ====================================================*/\n        plugins: {}\n    };\n    \n\n    /*===========================\n     Get Dom libraries\n     ===========================*/\n    var addLibraryPlugin = function (lib) {\n        lib.fn.swiper = function (params) {\n            var firstInstance;\n            lib(this).each(function () {\n                var s = new Swiper(this, params);\n                if (!firstInstance) firstInstance = s;\n            });\n            return firstInstance;\n        };\n    };\n    var swiperDomPlugins = ['jQuery', 'Zepto', 'Dom7'];\n    for (var i = 0; i < swiperDomPlugins.length; i++) {\n    \tif (window[swiperDomPlugins[i]]) {\n    \t\taddLibraryPlugin(window[swiperDomPlugins[i]]);\n    \t}\n    }\n    // Required DOM Plugins\n    var domLib;\n    if (typeof Dom7 === 'undefined') {\n    \tdomLib = window.Dom7 || window.Zepto || window.jQuery;\n    }\n    else {\n    \tdomLib = Dom7;\n    }\n\n    \n    if (domLib) {\n        if (!('transitionEnd' in domLib.fn)) {\n            domLib.fn.transitionEnd = function (callback) {\n                var events = ['webkitTransitionEnd', 'transitionend', 'oTransitionEnd', 'MSTransitionEnd', 'msTransitionEnd'],\n                    i, j, dom = this;\n                function fireCallBack(e) {\n                    /*jshint validthis:true */\n                    if (e.target !== this) return;\n                    callback.call(this, e);\n                    for (i = 0; i < events.length; i++) {\n                        dom.off(events[i], fireCallBack);\n                    }\n                }\n                if (callback) {\n                    for (i = 0; i < events.length; i++) {\n                        dom.on(events[i], fireCallBack);\n                    }\n                }\n                return this;\n            };\n        }\n        if (!('transform' in domLib.fn)) {\n            domLib.fn.transform = function (transform) {\n                for (var i = 0; i < this.length; i++) {\n                    var elStyle = this[i].style;\n                    elStyle.webkitTransform = elStyle.MsTransform = elStyle.msTransform = elStyle.MozTransform = elStyle.OTransform = elStyle.transform = transform;\n                }\n                return this;\n            };\n        }\n        if (!('transition' in domLib.fn)) {\n            domLib.fn.transition = function (duration) {\n                if (typeof duration !== 'string') {\n                    duration = duration + 'ms';\n                }\n                for (var i = 0; i < this.length; i++) {\n                    var elStyle = this[i].style;\n                    elStyle.webkitTransitionDuration = elStyle.MsTransitionDuration = elStyle.msTransitionDuration = elStyle.MozTransitionDuration = elStyle.OTransitionDuration = elStyle.transitionDuration = duration;\n                }\n                return this;\n            };\n        }\n    }\n\n    $.Swiper = Swiper;\n    $.Swiper.prototype.defaults = defaults;\n})($);\n\n/*===========================\nFramework7 Swiper Additions\n===========================*/\n/* global $:true */\n+function($){\n    'use strict';\n    $.Swiper.prototype.defaults.pagination = '.swiper-pagination';\n\n    $.swiper = function (container, params) {\n        return new $.Swiper(container, params);\n    };\n    $.fn.swiper = function (params) {\n        return new $.Swiper(this, params);\n    };\n    $.initSwiper = function (pageContainer) {\n        var page = $(pageContainer || document.body);\n        var swipers = page.find('.swiper-container');\n        if (swipers.length === 0) return;\n        for (var i = 0; i < swipers.length; i++) {\n            var swiper = swipers.eq(i);\n            var params;\n            if (swiper.data('swiper')) {\n                swiper.data(\"swiper\").update(true);\n                continue;\n            }\n            else {\n                params = swiper.dataset();\n            }\n            $.swiper(swiper[0], params);\n        }\n    };\n    $.reinitSwiper = function (pageContainer) {\n        var page = $(pageContainer);\n        var sliders = page.find('.swiper-container');\n        if (sliders.length === 0) return;\n        for (var i = 0; i < sliders.length; i++) {\n            var sliderInstance = sliders[0].swiper;\n            if (sliderInstance) {\n                sliderInstance.update(true);\n            }\n        }\n    };\n\n}($);\n\n/*======================================================\n************   Photo Browser   ************\n======================================================*/\n/* global $:true */\n+function($){\n    'use strict';\n    var PhotoBrowser = function (params) {\n\n        var pb = this, i;\n\n        var defaults = this.defaults;\n        \n        params = params || {};\n        for (var def in defaults) {\n            if (typeof params[def] === 'undefined') {\n                params[def] = defaults[def];\n            }\n        }\n\n        pb.params = params;\n\n        var navbarTemplate = pb.params.navbarTemplate ||\n                            '<header class=\"bar bar-nav\">' + \n                              '<a class=\"icon icon-left pull-left photo-browser-close-link' + (pb.params.type === 'popup' ?  \" close-popup\" : \"\") + '\"></a>' + \n                              '<h1 class=\"title\"><div class=\"center sliding\"><span class=\"photo-browser-current\"></span> <span class=\"photo-browser-of\">' + pb.params.ofText + '</span> <span class=\"photo-browser-total\"></span></div></h1>' +\n                            '</header>';\n\n        var toolbarTemplate = pb.params.toolbarTemplate ||\n                            '<nav class=\"bar bar-tab\">' +\n                              '<a class=\"tab-item photo-browser-prev\" href=\"#\">' +\n                                '<i class=\"icon icon-prev\"></i>' +\n                              '</a>' +\n                              '<a class=\"tab-item photo-browser-next\" href=\"#\">' +\n                                '<i class=\"icon icon-next\"></i>' +\n                              '</a>' +\n                            '</nav>';\n\n        var template = pb.params.template ||\n                        '<div class=\"photo-browser photo-browser-' + pb.params.theme + '\">' +\n                            '{{navbar}}' +\n                            '{{toolbar}}' +\n                            '<div data-page=\"photo-browser-slides\" class=\"content\">' +\n                                '{{captions}}' +\n                                '<div class=\"photo-browser-swiper-container swiper-container\">' +\n                                    '<div class=\"photo-browser-swiper-wrapper swiper-wrapper\">' +\n                                        '{{photos}}' +\n                                    '</div>' +\n                                '</div>' +\n                            '</div>' +\n                        '</div>';\n\n        var photoTemplate = !pb.params.lazyLoading ? \n            (pb.params.photoTemplate || '<div class=\"photo-browser-slide swiper-slide\"><span class=\"photo-browser-zoom-container\"><img src=\"{{url}}\"></span></div>') : \n            (pb.params.photoLazyTemplate || '<div class=\"photo-browser-slide photo-browser-slide-lazy swiper-slide\"><div class=\"preloader' + (pb.params.theme === 'dark' ? ' preloader-white' : '') + '\"></div><span class=\"photo-browser-zoom-container\"><img data-src=\"{{url}}\" class=\"swiper-lazy\"></span></div>');\n\n        var captionsTheme = pb.params.captionsTheme || pb.params.theme;\n        var captionsTemplate = pb.params.captionsTemplate || '<div class=\"photo-browser-captions photo-browser-captions-' + captionsTheme + '\">{{captions}}</div>';\n        var captionTemplate = pb.params.captionTemplate || '<div class=\"photo-browser-caption\" data-caption-index=\"{{captionIndex}}\">{{caption}}</div>';\n\n        var objectTemplate = pb.params.objectTemplate || '<div class=\"photo-browser-slide photo-browser-object-slide swiper-slide\">{{html}}</div>';\n        var photosHtml = '';\n        var captionsHtml = '';\n        for (i = 0; i < pb.params.photos.length; i ++) {\n            var photo = pb.params.photos[i];\n            var thisTemplate = '';\n\n            //check if photo is a string or string-like object, for backwards compatibility \n            if (typeof(photo) === 'string' || photo instanceof String) {\n\n                //check if \"photo\" is html object\n                if (photo.indexOf('<') >= 0 || photo.indexOf('>') >= 0) {\n                    thisTemplate = objectTemplate.replace(/{{html}}/g, photo);\n                } else {\n                    thisTemplate = photoTemplate.replace(/{{url}}/g, photo);\n                }\n\n                //photo is a string, thus has no caption, so remove the caption template placeholder\n                //otherwise check if photo is an object with a url property\n            } else if (typeof(photo) === 'object') {\n\n                //check if \"photo\" is html object\n                if (photo.hasOwnProperty('html') && photo.html.length > 0) {\n                    thisTemplate = objectTemplate.replace(/{{html}}/g, photo.html);\n                } else if (photo.hasOwnProperty('url') && photo.url.length > 0) {\n                    thisTemplate = photoTemplate.replace(/{{url}}/g, photo.url);\n                }\n\n                //check if photo has a caption\n                if (photo.hasOwnProperty('caption') && photo.caption.length > 0) {\n                    captionsHtml += captionTemplate.replace(/{{caption}}/g, photo.caption).replace(/{{captionIndex}}/g, i);\n                } else {\n                    thisTemplate = thisTemplate.replace(/{{caption}}/g, '');\n                }\n            }\n\n            photosHtml += thisTemplate;\n\n        }\n\n        var htmlTemplate = template\n                            .replace('{{navbar}}', (pb.params.navbar ? navbarTemplate : ''))\n                            .replace('{{noNavbar}}', (pb.params.navbar ? '' : 'no-navbar'))\n                            .replace('{{photos}}', photosHtml)\n                            .replace('{{captions}}', captionsTemplate.replace(/{{captions}}/g, captionsHtml))\n                            .replace('{{toolbar}}', (pb.params.toolbar ? toolbarTemplate : ''));\n\n        pb.activeIndex = pb.params.initialSlide;\n        pb.openIndex = pb.activeIndex;\n        pb.opened = false;\n\n        pb.open = function (index) {\n            if (typeof index === 'undefined') index = pb.activeIndex;\n            index = parseInt(index, 10);\n            if (pb.opened && pb.swiper) {\n                pb.swiper.slideTo(index);\n                return;\n            }\n            pb.opened = true;\n            pb.openIndex = index;\n            // pb.initialLazyLoaded = false;\n            if (pb.params.type === 'standalone') {\n                $(pb.params.container).append(htmlTemplate);\n            }\n            if (pb.params.type === 'popup') {\n                pb.popup = $.popup('<div class=\"popup photo-browser-popup\">' + htmlTemplate + '</div>');\n                $(pb.popup).on('closed', pb.onPopupClose);\n            }\n            if (pb.params.type === 'page') {\n                $(document).on('pageBeforeInit', pb.onPageBeforeInit);\n                $(document).on('pageBeforeRemove', pb.onPageBeforeRemove);\n                if (!pb.params.view) pb.params.view = $.mainView;\n                pb.params.view.loadContent(htmlTemplate);\n                return;\n            }\n            pb.layout(pb.openIndex);\n            if (pb.params.onOpen) {\n                pb.params.onOpen(pb);\n            }\n\n        };\n        pb.close = function () {\n            pb.opened = false;\n            if (!pb.swiperContainer || pb.swiperContainer.length === 0) {\n                return;\n            }\n            if (pb.params.onClose) {\n                pb.params.onClose(pb);\n            }\n            // Detach events\n            pb.attachEvents(true);\n            // Delete from DOM\n            if (pb.params.type === 'standalone') {\n                pb.container.removeClass('photo-browser-in').addClass('photo-browser-out').animationEnd(function () {\n                    pb.container.remove();\n                });\n            }\n            // Destroy slider\n            pb.swiper.destroy();\n            // Delete references\n            pb.swiper = pb.swiperContainer = pb.swiperWrapper = pb.slides = gestureSlide = gestureImg = gestureImgWrap = undefined;\n        };\n\n        pb.onPopupClose = function () {\n            pb.close();\n            $(pb.popup).off('pageBeforeInit', pb.onPopupClose);\n        };\n        pb.onPageBeforeInit = function (e) {\n            if (e.detail.page.name === 'photo-browser-slides') {\n                pb.layout(pb.openIndex);\n            }\n            $(document).off('pageBeforeInit', pb.onPageBeforeInit);\n        };\n        pb.onPageBeforeRemove = function (e) {\n            if (e.detail.page.name === 'photo-browser-slides') {\n                pb.close();\n            }\n            $(document).off('pageBeforeRemove', pb.onPageBeforeRemove);\n        };\n\n        pb.onSliderTransitionStart = function (swiper) {\n            pb.activeIndex = swiper.activeIndex;\n\n            var current = swiper.activeIndex + 1;\n            var total = swiper.slides.length;\n            if (pb.params.loop) {\n                total = total - 2;\n                current = current - swiper.loopedSlides;\n                if (current < 1) current = total + current;\n                if (current > total) current = current - total;\n            }\n            pb.container.find('.photo-browser-current').text(current);\n            pb.container.find('.photo-browser-total').text(total);\n\n            $('.photo-browser-prev, .photo-browser-next').removeClass('photo-browser-link-inactive');\n            \n            if (swiper.isBeginning && !pb.params.loop) {\n                $('.photo-browser-prev').addClass('photo-browser-link-inactive');\n            }\n            if (swiper.isEnd && !pb.params.loop) {\n                $('.photo-browser-next').addClass('photo-browser-link-inactive');\n            }\n\n            // Update captions\n            if (pb.captions.length > 0) {\n                pb.captionsContainer.find('.photo-browser-caption-active').removeClass('photo-browser-caption-active');\n                var captionIndex = pb.params.loop ? swiper.slides.eq(swiper.activeIndex).attr('data-swiper-slide-index') : pb.activeIndex;\n                pb.captionsContainer.find('[data-caption-index=\"' + captionIndex + '\"]').addClass('photo-browser-caption-active');\n            }\n\n\n            // Stop Video\n            var previousSlideVideo = swiper.slides.eq(swiper.previousIndex).find('video');\n            if (previousSlideVideo.length > 0) {\n                if ('pause' in previousSlideVideo[0]) previousSlideVideo[0].pause();\n            }\n            // Callback\n            if (pb.params.onSlideChangeStart) pb.params.onSlideChangeStart(swiper);\n        };\n        pb.onSliderTransitionEnd = function (swiper) {\n            // Reset zoom\n            if (pb.params.zoom && gestureSlide && swiper.previousIndex !== swiper.activeIndex) {\n                gestureImg.transform('translate3d(0,0,0) scale(1)');\n                gestureImgWrap.transform('translate3d(0,0,0)');\n                gestureSlide = gestureImg = gestureImgWrap = undefined;\n                scale = currentScale = 1;\n            }\n            if (pb.params.onSlideChangeEnd) pb.params.onSlideChangeEnd(swiper);\n        };\n        \n        pb.layout = function (index) {\n            if (pb.params.type === 'page') {\n                pb.container = $('.photo-browser-swiper-container').parents('.view');\n            }\n            else {\n                pb.container = $('.photo-browser');\n            }\n            if (pb.params.type === 'standalone') {\n                pb.container.addClass('photo-browser-in');\n                // $.sizeNavbars(pb.container);\n            }\n            pb.swiperContainer = pb.container.find('.photo-browser-swiper-container');\n            pb.swiperWrapper = pb.container.find('.photo-browser-swiper-wrapper');\n            pb.slides = pb.container.find('.photo-browser-slide');\n            pb.captionsContainer = pb.container.find('.photo-browser-captions');\n            pb.captions = pb.container.find('.photo-browser-caption');\n            \n            var sliderSettings = {\n                nextButton: pb.params.nextButton || '.photo-browser-next',\n                prevButton: pb.params.prevButton || '.photo-browser-prev',\n                indexButton: pb.params.indexButton,\n                initialSlide: index,\n                spaceBetween: pb.params.spaceBetween,\n                speed: pb.params.speed,\n                loop: pb.params.loop,\n                lazyLoading: pb.params.lazyLoading,\n                lazyLoadingInPrevNext: pb.params.lazyLoadingInPrevNext,\n                lazyLoadingOnTransitionStart: pb.params.lazyLoadingOnTransitionStart,\n                preloadImages: pb.params.lazyLoading ? false : true,\n                onTap: function (swiper, e) {\n                    if (pb.params.onTap) pb.params.onTap(swiper, e);\n                },\n                onClick: function (swiper, e) {\n                    if (pb.params.exposition) pb.toggleExposition();\n                    if (pb.params.onClick) pb.params.onClick(swiper, e);\n                },\n                onDoubleTap: function (swiper, e) {\n                    pb.toggleZoom($(e.target).parents('.photo-browser-slide'));\n                    if (pb.params.onDoubleTap) pb.params.onDoubleTap(swiper, e);\n                },\n                onTransitionStart: function (swiper) {\n                    pb.onSliderTransitionStart(swiper);\n                },\n                onTransitionEnd: function (swiper) {\n                    pb.onSliderTransitionEnd(swiper);  \n                },\n                onLazyImageLoad: function (swiper, slide, img) {\n                    if (pb.params.onLazyImageLoad) pb.params.onLazyImageLoad(pb, slide, img);\n                },\n                onLazyImageReady: function (swiper, slide, img) {\n                    $(slide).removeClass('photo-browser-slide-lazy');\n                    if (pb.params.onLazyImageReady) pb.params.onLazyImageReady(pb, slide, img);\n                }\n            };\n\n            if (pb.params.swipeToClose && pb.params.type !== 'page') {\n                sliderSettings.onTouchStart = pb.swipeCloseTouchStart;\n                sliderSettings.onTouchMoveOpposite = pb.swipeCloseTouchMove;\n                sliderSettings.onTouchEnd = pb.swipeCloseTouchEnd;\n            }\n\n            pb.swiper = $.swiper(pb.swiperContainer, sliderSettings);\n            if (index === 0) {\n                pb.onSliderTransitionStart(pb.swiper);\n            }\n            pb.attachEvents();\n        };\n        pb.attachEvents = function (detach) {\n            var action = detach ? 'off' : 'on';\n            // Slide between photos\n\n            if (pb.params.zoom) {\n                var target = pb.params.loop ? pb.swiper.slides : pb.slides;\n                // Scale image\n                target[action]('gesturestart', pb.onSlideGestureStart);\n                target[action]('gesturechange', pb.onSlideGestureChange);\n                target[action]('gestureend', pb.onSlideGestureEnd);\n                // Move image\n                target[action]('touchstart', pb.onSlideTouchStart);\n                target[action]('touchmove', pb.onSlideTouchMove);\n                target[action]('touchend', pb.onSlideTouchEnd);\n            }\n            pb.container.find('.photo-browser-close-link')[action]('click', pb.close);\n        };\n\n        // Expose\n        pb.exposed = false;\n        pb.toggleExposition = function () {\n            if (pb.container) pb.container.toggleClass('photo-browser-exposed');\n            if (pb.params.expositionHideCaptions) pb.captionsContainer.toggleClass('photo-browser-captions-exposed');\n            pb.exposed = !pb.exposed;\n        };\n        pb.enableExposition = function () {\n            if (pb.container) pb.container.addClass('photo-browser-exposed');\n            if (pb.params.expositionHideCaptions) pb.captionsContainer.addClass('photo-browser-captions-exposed');\n            pb.exposed = true;\n        };\n        pb.disableExposition = function () {\n            if (pb.container) pb.container.removeClass('photo-browser-exposed');\n            if (pb.params.expositionHideCaptions) pb.captionsContainer.removeClass('photo-browser-captions-exposed');\n            pb.exposed = false;\n        };\n        \n        // Gestures\n        var gestureSlide, gestureImg, gestureImgWrap, scale = 1, currentScale = 1, isScaling = false;\n        pb.onSlideGestureStart = function () {\n            if (!gestureSlide) {\n                gestureSlide = $(this);\n                gestureImg = gestureSlide.find('img, svg, canvas');\n                gestureImgWrap = gestureImg.parent('.photo-browser-zoom-container');\n                if (gestureImgWrap.length === 0) {\n                    gestureImg = undefined;\n                    return;\n                }\n            }\n            gestureImg.transition(0);\n            isScaling = true;\n        };\n        pb.onSlideGestureChange = function (e) {\n            if (!gestureImg || gestureImg.length === 0) return;\n            scale = (e.scale || e.originalEvent.scale) * currentScale;\n            if (scale > pb.params.maxZoom) {\n                scale = pb.params.maxZoom - 1 + Math.pow((scale - pb.params.maxZoom + 1), 0.5);\n            }\n            if (scale < pb.params.minZoom) {\n                scale =  pb.params.minZoom + 1 - Math.pow((pb.params.minZoom - scale + 1), 0.5);\n            }\n            gestureImg.transform('translate3d(0,0,0) scale(' + scale + ')');\n        };\n        pb.onSlideGestureEnd = function () {\n            if (!gestureImg || gestureImg.length === 0) return;\n            scale = Math.max(Math.min(scale, pb.params.maxZoom), pb.params.minZoom);\n            gestureImg.transition(pb.params.speed).transform('translate3d(0,0,0) scale(' + scale + ')');\n            currentScale = scale;\n            isScaling = false;\n            if (scale === 1) gestureSlide = undefined;\n        };\n        pb.toggleZoom = function () {\n            if (!gestureSlide) {\n                gestureSlide = pb.swiper.slides.eq(pb.swiper.activeIndex);\n                gestureImg = gestureSlide.find('img, svg, canvas');\n                gestureImgWrap = gestureImg.parent('.photo-browser-zoom-container');\n            }\n            if (!gestureImg || gestureImg.length === 0) return;\n            gestureImgWrap.transition(300).transform('translate3d(0,0,0)');\n            if (scale && scale !== 1) {\n                scale = currentScale = 1;\n                gestureImg.transition(300).transform('translate3d(0,0,0) scale(1)');\n                gestureSlide = undefined;\n            }\n            else {\n                scale = currentScale = pb.params.maxZoom;\n                gestureImg.transition(300).transform('translate3d(0,0,0) scale(' + scale + ')');\n            }\n        };\n\n        var imageIsTouched, imageIsMoved, imageCurrentX, imageCurrentY, imageMinX, imageMinY, imageMaxX, imageMaxY, imageWidth, imageHeight, imageTouchesStart = {}, imageTouchesCurrent = {}, imageStartX, imageStartY, velocityPrevPositionX, velocityPrevTime, velocityX, velocityPrevPositionY, velocityY;\n\n        pb.onSlideTouchStart = function (e) {\n            if (!gestureImg || gestureImg.length === 0) return;\n            if (imageIsTouched) return;\n            if ($.device.os === 'android') e.preventDefault();\n            imageIsTouched = true;\n            imageTouchesStart = $.getTouchPosition(e);\n        };\n        pb.onSlideTouchMove = function (e) {\n            if (!gestureImg || gestureImg.length === 0) return;\n            pb.swiper.allowClick = false;\n            if (!imageIsTouched || !gestureSlide) return;\n\n            if (!imageIsMoved) {\n                imageWidth = gestureImg[0].offsetWidth;\n                imageHeight = gestureImg[0].offsetHeight;\n                imageStartX = $.getTranslate(gestureImgWrap[0], 'x') || 0;\n                imageStartY = $.getTranslate(gestureImgWrap[0], 'y') || 0;\n                gestureImgWrap.transition(0);\n            }\n            // Define if we need image drag\n            var scaledWidth = imageWidth * scale;\n            var scaledHeight = imageHeight * scale;\n\n            if (scaledWidth < pb.swiper.width && scaledHeight < pb.swiper.height) return;\n\n            imageMinX = Math.min((pb.swiper.width / 2 - scaledWidth / 2), 0);\n            imageMaxX = -imageMinX;\n            imageMinY = Math.min((pb.swiper.height / 2 - scaledHeight / 2), 0);\n            imageMaxY = -imageMinY;\n            \n            imageTouchesCurrent = $.getTouchPosition(e);\n\n            if (!imageIsMoved && !isScaling) {\n                if (\n                    (Math.floor(imageMinX) === Math.floor(imageStartX) && imageTouchesCurrent.x < imageTouchesStart.x) ||\n                    (Math.floor(imageMaxX) === Math.floor(imageStartX) && imageTouchesCurrent.x > imageTouchesStart.x)\n                    ) {\n                    imageIsTouched = false;\n                    return;\n                }\n            }\n            e.preventDefault();\n            e.stopPropagation();\n            imageIsMoved = true;\n            imageCurrentX = imageTouchesCurrent.x - imageTouchesStart.x + imageStartX;\n            imageCurrentY = imageTouchesCurrent.y - imageTouchesStart.y + imageStartY;\n            \n            if (imageCurrentX < imageMinX) {\n                imageCurrentX =  imageMinX + 1 - Math.pow((imageMinX - imageCurrentX + 1), 0.8);\n            }\n            if (imageCurrentX > imageMaxX) {\n                imageCurrentX = imageMaxX - 1 + Math.pow((imageCurrentX - imageMaxX + 1), 0.8);\n            }\n            \n            if (imageCurrentY < imageMinY) {\n                imageCurrentY =  imageMinY + 1 - Math.pow((imageMinY - imageCurrentY + 1), 0.8);\n            }\n            if (imageCurrentY > imageMaxY) {\n                imageCurrentY = imageMaxY - 1 + Math.pow((imageCurrentY - imageMaxY + 1), 0.8);\n            }\n\n            //Velocity\n            if (!velocityPrevPositionX) velocityPrevPositionX = imageTouchesCurrent.x;\n            if (!velocityPrevPositionY) velocityPrevPositionY = imageTouchesCurrent.y;\n            if (!velocityPrevTime) velocityPrevTime = Date.now();\n            velocityX = (imageTouchesCurrent.x - velocityPrevPositionX) / (Date.now() - velocityPrevTime) / 2;\n            velocityY = (imageTouchesCurrent.y - velocityPrevPositionY) / (Date.now() - velocityPrevTime) / 2;\n            if (Math.abs(imageTouchesCurrent.x - velocityPrevPositionX) < 2) velocityX = 0;\n            if (Math.abs(imageTouchesCurrent.y - velocityPrevPositionY) < 2) velocityY = 0;\n            velocityPrevPositionX = imageTouchesCurrent.x;\n            velocityPrevPositionY = imageTouchesCurrent.y;\n            velocityPrevTime = Date.now();\n\n            gestureImgWrap.transform('translate3d(' + imageCurrentX + 'px, ' + imageCurrentY + 'px,0)');\n        };\n        pb.onSlideTouchEnd = function () {\n            if (!gestureImg || gestureImg.length === 0) return;\n            if (!imageIsTouched || !imageIsMoved) {\n                imageIsTouched = false;\n                imageIsMoved = false;\n                return;\n            }\n            imageIsTouched = false;\n            imageIsMoved = false;\n            var momentumDurationX = 300;\n            var momentumDurationY = 300;\n            var momentumDistanceX = velocityX * momentumDurationX;\n            var newPositionX = imageCurrentX + momentumDistanceX;\n            var momentumDistanceY = velocityY * momentumDurationY;\n            var newPositionY = imageCurrentY + momentumDistanceY;\n\n            //Fix duration\n            if (velocityX !== 0) momentumDurationX = Math.abs((newPositionX - imageCurrentX) / velocityX);\n            if (velocityY !== 0) momentumDurationY = Math.abs((newPositionY - imageCurrentY) / velocityY);\n            var momentumDuration = Math.max(momentumDurationX, momentumDurationY);\n\n            imageCurrentX = newPositionX;\n            imageCurrentY = newPositionY;\n\n            // Define if we need image drag\n            var scaledWidth = imageWidth * scale;\n            var scaledHeight = imageHeight * scale;\n            imageMinX = Math.min((pb.swiper.width / 2 - scaledWidth / 2), 0);\n            imageMaxX = -imageMinX;\n            imageMinY = Math.min((pb.swiper.height / 2 - scaledHeight / 2), 0);\n            imageMaxY = -imageMinY;\n            imageCurrentX = Math.max(Math.min(imageCurrentX, imageMaxX), imageMinX);\n            imageCurrentY = Math.max(Math.min(imageCurrentY, imageMaxY), imageMinY);\n\n            gestureImgWrap.transition(momentumDuration).transform('translate3d(' + imageCurrentX + 'px, ' + imageCurrentY + 'px,0)');\n        };\n\n        // Swipe Up To Close\n        var swipeToCloseIsTouched = false;\n        var allowSwipeToClose = true;\n        var swipeToCloseDiff, swipeToCloseStart, swipeToCloseCurrent, swipeToCloseStarted = false, swipeToCloseActiveSlide, swipeToCloseTimeStart;\n        pb.swipeCloseTouchStart = function () {\n            if (!allowSwipeToClose) return;\n            swipeToCloseIsTouched = true;\n        };\n        pb.swipeCloseTouchMove = function (swiper, e) {\n            if (!swipeToCloseIsTouched) return;\n            if (!swipeToCloseStarted) {\n                swipeToCloseStarted = true;\n                swipeToCloseStart = e.type === 'touchmove' ? e.targetTouches[0].pageY : e.pageY;\n                swipeToCloseActiveSlide = pb.swiper.slides.eq(pb.swiper.activeIndex);\n                swipeToCloseTimeStart = (new Date()).getTime();\n            }\n            e.preventDefault();\n            swipeToCloseCurrent = e.type === 'touchmove' ? e.targetTouches[0].pageY : e.pageY;\n            swipeToCloseDiff = swipeToCloseStart - swipeToCloseCurrent;\n            var opacity = 1 - Math.abs(swipeToCloseDiff) / 300;\n            swipeToCloseActiveSlide.transform('translate3d(0,' + (-swipeToCloseDiff) + 'px,0)');\n            pb.swiper.container.css('opacity', opacity).transition(0);\n        };\n        pb.swipeCloseTouchEnd = function () {\n            swipeToCloseIsTouched = false;\n            if (!swipeToCloseStarted) {\n                swipeToCloseStarted = false;\n                return;\n            }\n            swipeToCloseStarted = false;\n            allowSwipeToClose = false;\n            var diff = Math.abs(swipeToCloseDiff);\n            var timeDiff = (new Date()).getTime() - swipeToCloseTimeStart;\n            if ((timeDiff < 300 && diff > 20) || (timeDiff >= 300 && diff > 100)) {\n                setTimeout(function () {\n                    if (pb.params.type === 'standalone') {\n                        pb.close();\n                    }\n                    if (pb.params.type === 'popup') {\n                        $.closeModal(pb.popup);\n                    }\n                    if (pb.params.onSwipeToClose) {\n                        pb.params.onSwipeToClose(pb);\n                    }\n                    allowSwipeToClose = true;\n                }, 0);\n                return;\n            }\n            if (diff !== 0) {\n                swipeToCloseActiveSlide.addClass('transitioning').transitionEnd(function () {\n                    allowSwipeToClose = true;\n                    swipeToCloseActiveSlide.removeClass('transitioning');\n                });\n            }\n            else {\n                allowSwipeToClose = true;\n            }\n            pb.swiper.container.css('opacity', '').transition('');\n            swipeToCloseActiveSlide.transform('');\n        };\n\n        return pb;\n    };\n\n    PhotoBrowser.prototype = {\n        defaults: {\n            photos : [],\n            container: 'body',\n            initialSlide: 0,\n            spaceBetween: 20,\n            speed: 300,\n            zoom: true,\n            maxZoom: 3,\n            minZoom: 1,\n            exposition: true,\n            expositionHideCaptions: false,\n            type: 'standalone',\n            navbar: true,\n            toolbar: true,\n            theme: 'light',\n            swipeToClose: true,\n            backLinkText: 'Close',\n            ofText: 'of',\n            loop: false,\n            lazyLoading: false,\n            lazyLoadingInPrevNext: false,\n            lazyLoadingOnTransitionStart: false,\n            /*\n            Callbacks:\n            onLazyImageLoad(pb, slide, img)\n            onLazyImageReady(pb, slide, img)\n            onOpen(pb)\n            onClose(pb)\n            onSlideChangeStart(swiper)\n            onSlideChangeEnd(swiper)\n            onTap(swiper, e)\n            onClick(swiper, e)\n            onDoubleTap(swiper, e)\n            onSwipeToClose(pb)\n            */\n        }\n    };\n\n    $.photoBrowser = function (params) {\n        $.extend(params, $.photoBrowser.prototype.defaults);\n        return new PhotoBrowser(params);\n    };\n\n    $.photoBrowser.prototype = {\n        defaults: {}\n    };\n\n}($);\n"]}
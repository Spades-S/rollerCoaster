{"version":3,"sources":["../../../../src/home/logic/user.js.js"],"names":["Object","defineProperty","exports","value","_regenerator","require","_regenerator2","_interopRequireDefault","_asyncToGenerator2","_asyncToGenerator3","_getPrototypeOf","_getPrototypeOf2","_classCallCheck2","_classCallCheck3","_createClass2","_createClass3","_possibleConstructorReturn2","_possibleConstructorReturn3","_inherits2","_inherits3","obj","__esModule","default","_class","_think$logic$base","__proto__","apply","arguments","key","indexAction","_ref","mark","_callee","userModel","account","isPhoneNumExist","_isPhoneNumExist","wrap","_callee$","_context","prev","next","model","post","test","header","sent","think","isEmpty","abrupt","fail","session","stop","getvfcodeAction","_ref2","_callee2","sessionCode","_callee2$","_context2","allowMethods","Number","get","errors","verifycodeAction","_ref3","_callee3","code","_callee3$","_context3","console","log","redirect","passwordAction","_ref4","_callee4","_callee4$","_context4","cookie","registerAction","_ref5","_callee5","_callee5$","_context5","loginAction","_ref6","_callee6","_callee6$","_context6","loginintosystemAction","_ref7","_callee7","_callee7$","_context7","verifyAction","_ref8","_callee8","reset","_callee8$","_context8","resetAction","_ref9","_callee9","_callee9$","_context9","resetpasswordAction","logic","base"],"mappings":"AAAA;;;AAGA;;AAEAA,OAAOC,cAAP,CAAsBC,OAAtB,EAA+B,YAA/B,EAA6C;AACzCC,WAAO;AADkC,CAA7C;;AAIA,IAAIC,eAAeC,QAAQ,2BAAR,CAAnB;;AAEA,IAAIC,gBAAgBC,uBAAuBH,YAAvB,CAApB;;AAEA,IAAII,qBAAqBH,QAAQ,wCAAR,CAAzB;;AAEA,IAAII,qBAAqBF,uBAAuBC,kBAAvB,CAAzB;;AAEA,IAAIE,kBAAkBL,QAAQ,+CAAR,CAAtB;;AAEA,IAAIM,mBAAmBJ,uBAAuBG,eAAvB,CAAvB;;AAEA,IAAIE,mBAAmBP,QAAQ,sCAAR,CAAvB;;AAEA,IAAIQ,mBAAmBN,uBAAuBK,gBAAvB,CAAvB;;AAEA,IAAIE,gBAAgBT,QAAQ,mCAAR,CAApB;;AAEA,IAAIU,gBAAgBR,uBAAuBO,aAAvB,CAApB;;AAEA,IAAIE,8BAA8BX,QAAQ,iDAAR,CAAlC;;AAEA,IAAIY,8BAA8BV,uBAAuBS,2BAAvB,CAAlC;;AAEA,IAAIE,aAAab,QAAQ,gCAAR,CAAjB;;AAEA,IAAIc,aAAaZ,uBAAuBW,UAAvB,CAAjB;;AAEA,SAASX,sBAAT,CAAgCa,GAAhC,EAAqC;AAAE,WAAOA,OAAOA,IAAIC,UAAX,GAAwBD,GAAxB,GAA8B,EAAEE,SAASF,GAAX,EAArC;AAAwD;;AAE/F,IAAIG,SAAS,UAAUC,iBAAV,EAA6B;AACtC,KAAC,GAAGL,WAAWG,OAAf,EAAwBC,MAAxB,EAAgCC,iBAAhC;;AAEA,aAASD,MAAT,GAAkB;AACd,SAAC,GAAGV,iBAAiBS,OAArB,EAA8B,IAA9B,EAAoCC,MAApC;AACA,eAAO,CAAC,GAAGN,4BAA4BK,OAAhC,EAAyC,IAAzC,EAA+C,CAACC,OAAOE,SAAP,IAAoB,CAAC,GAAGd,iBAAiBW,OAArB,EAA8BC,MAA9B,CAArB,EAA4DG,KAA5D,CAAkE,IAAlE,EAAwEC,SAAxE,CAA/C,CAAP;AACH;;AAED,KAAC,GAAGZ,cAAcO,OAAlB,EAA2BC,MAA3B,EAAmC,CAAC;AAChCK,aAAK,aAD2B;AAEhCzB,eAAO,SAAS0B,WAAT,GAAuB,CAAE;AAFA,KAAD,EAGhC;AACCD,aAAK,iBADN;AAECzB,eAAO,YAAY;AACf,gBAAI2B,OAAO,CAAC,GAAGrB,mBAAmBa,OAAvB,EAAgChB,cAAcgB,OAAd,CAAsBS,IAAtB,CAA2B,SAASC,OAAT,GAAmB;AACrF,oBAAIC,SAAJ,EAAeC,OAAf,EAAwBC,eAAxB,EAAyCC,gBAAzC;;AAEA,uBAAO9B,cAAcgB,OAAd,CAAsBe,IAAtB,CAA2B,SAASC,QAAT,CAAkBC,QAAlB,EAA4B;AAC1D,2BAAO,CAAP,EAAU;AACN,gCAAQA,SAASC,IAAT,GAAgBD,SAASE,IAAjC;AACI,iCAAK,CAAL;AACIR,4CAAY,KAAKS,KAAL,CAAW,MAAX,CAAZ;AACAR,0CAAU,KAAKS,IAAL,CAAU,SAAV,CAAV;;AAEA,oCAAI,CAAC,SAASC,IAAT,CAAc,KAAKC,MAAL,CAAY,SAAZ,CAAd,CAAL,EAA4C;AACxCN,6CAASE,IAAT,GAAgB,EAAhB;AACA;AACH;;AAEDF,yCAASE,IAAT,GAAgB,CAAhB;AACA,uCAAOR,UAAUE,eAAV,CAA0BD,OAA1B,CAAP;;AAEJ,iCAAK,CAAL;AACIC,kDAAkBI,SAASO,IAA3B;;AAEA,oCAAI,CAACC,MAAMC,OAAN,CAAcb,eAAd,CAAL,EAAqC;AACjCI,6CAASE,IAAT,GAAgB,EAAhB;AACA;AACH;;AAED,uCAAOF,SAASU,MAAT,CAAgB,QAAhB,EAA0B,KAAKC,IAAL,CAAU,iBAAV,CAA1B,CAAP;;AAEJ,iCAAK,EAAL;AACIX,yCAASE,IAAT,GAAgB,EAAhB;AACA,uCAAO,KAAKU,OAAL,CAAa,OAAb,EAAsB,IAAtB,CAAP;;AAEJ,iCAAK,EAAL;AACIZ,yCAASE,IAAT,GAAgB,EAAhB;AACA;;AAEJ,iCAAK,EAAL;AACIF,yCAASE,IAAT,GAAgB,EAAhB;AACA,uCAAOR,UAAUE,eAAV,CAA0BD,OAA1B,CAAP;;AAEJ,iCAAK,EAAL;AACIE,mDAAmBG,SAASO,IAA5B;;AAEA,oCAAIC,MAAMC,OAAN,CAAcZ,gBAAd,CAAJ,EAAqC;AACjCG,6CAASE,IAAT,GAAgB,EAAhB;AACA;AACH;;AAED,uCAAOF,SAASU,MAAT,CAAgB,QAAhB,EAA0B,KAAKC,IAAL,CAAU,sBAAV,CAA1B,CAAP;;AAEJ,iCAAK,EAAL;AACA,iCAAK,KAAL;AACI,uCAAOX,SAASa,IAAT,EAAP;AA/CR;AAiDH;AACJ,iBApDM,EAoDJpB,OApDI,EAoDK,IApDL,CAAP;AAqDH,aAxD0C,CAAhC,CAAX;;AA0DA,qBAASqB,eAAT,GAA2B;AACvB,uBAAOvB,KAAKJ,KAAL,CAAW,IAAX,EAAiBC,SAAjB,CAAP;AACH;;AAED,mBAAO0B,eAAP;AACH,SAhEM;AAFR,KAHgC,EAsEhC;AACCzB,aAAK,kBADN;AAECzB,eAAO,YAAY;AACf,gBAAImD,QAAQ,CAAC,GAAG7C,mBAAmBa,OAAvB,EAAgChB,cAAcgB,OAAd,CAAsBS,IAAtB,CAA2B,SAASwB,QAAT,GAAoB;AACvF,oBAAIC,WAAJ;AACA,uBAAOlD,cAAcgB,OAAd,CAAsBe,IAAtB,CAA2B,SAASoB,SAAT,CAAmBC,SAAnB,EAA8B;AAC5D,2BAAO,CAAP,EAAU;AACN,gCAAQA,UAAUlB,IAAV,GAAiBkB,UAAUjB,IAAnC;AACI,iCAAK,CAAL;AACI,qCAAKkB,YAAL,GAAoB,KAApB;AACAD,0CAAUjB,IAAV,GAAiB,CAAjB;AACA,uCAAO,KAAKU,OAAL,CAAa,MAAb,CAAP;;AAEJ,iCAAK,CAAL;AACIK,8CAAcE,UAAUZ,IAAxB;;AAEA,oCAAI,EAAEc,OAAO,KAAKC,GAAL,CAAS,MAAT,CAAP,MAA6BD,OAAOJ,WAAP,CAA/B,CAAJ,EAAyD;AACrDE,8CAAUjB,IAAV,GAAiB,CAAjB;AACA;AACH;;AAED,uCAAOiB,UAAUT,MAAV,CAAiB,QAAjB,EAA2B,KAAKC,IAAL,CAAU,gBAAV,EAA4B,KAAKY,MAAL,EAA5B,CAA3B,CAAP;;AAEJ,iCAAK,CAAL;AACA,iCAAK,KAAL;AACI,uCAAOJ,UAAUN,IAAV,EAAP;AAlBR;AAoBH;AACJ,iBAvBM,EAuBJG,QAvBI,EAuBM,IAvBN,CAAP;AAwBH,aA1B2C,CAAhC,CAAZ;;AA4BA,qBAASQ,gBAAT,GAA4B;AACxB,uBAAOT,MAAM5B,KAAN,CAAY,IAAZ,EAAkBC,SAAlB,CAAP;AACH;;AAED,mBAAOoC,gBAAP;AACH,SAlCM;AAFR,KAtEgC,EA2GhC;AACCnC,aAAK,gBADN;AAECzB,eAAO,YAAY;AACf,gBAAI6D,QAAQ,CAAC,GAAGvD,mBAAmBa,OAAvB,EAAgChB,cAAcgB,OAAd,CAAsBS,IAAtB,CAA2B,SAASkC,QAAT,GAAoB;AACvF,oBAAIC,IAAJ;AACA,uBAAO5D,cAAcgB,OAAd,CAAsBe,IAAtB,CAA2B,SAAS8B,SAAT,CAAmBC,SAAnB,EAA8B;AAC5D,2BAAO,CAAP,EAAU;AACN,gCAAQA,UAAU5B,IAAV,GAAiB4B,UAAU3B,IAAnC;AACI,iCAAK,CAAL;AACI2B,0CAAU3B,IAAV,GAAiB,CAAjB;AACA,uCAAO,KAAKU,OAAL,CAAa,MAAb,CAAP;;AAEJ,iCAAK,CAAL;AACIe,uCAAOE,UAAUtB,IAAjB;;AAEAuB,wCAAQC,GAAR,CAAYJ,IAAZ;;AAEA,oCAAIA,IAAJ,EAAU;AACNE,8CAAU3B,IAAV,GAAiB,CAAjB;AACA;AACH;;AAED,uCAAO2B,UAAUnB,MAAV,CAAiB,QAAjB,EAA2B,KAAKsB,QAAL,CAAc,aAAd,CAA3B,CAAP;;AAEJ,iCAAK,CAAL;AACA,iCAAK,KAAL;AACI,uCAAOH,UAAUhB,IAAV,EAAP;AAnBR;AAqBH;AACJ,iBAxBM,EAwBJa,QAxBI,EAwBM,IAxBN,CAAP;AAyBH,aA3B2C,CAAhC,CAAZ;;AA6BA,qBAASO,cAAT,GAA0B;AACtB,uBAAOR,MAAMtC,KAAN,CAAY,IAAZ,EAAkBC,SAAlB,CAAP;AACH;;AAED,mBAAO6C,cAAP;AACH,SAnCM;AAFR,KA3GgC,EAiJhC;AACC5C,aAAK,gBADN;AAECzB,eAAO,YAAY;AACf,gBAAIsE,QAAQ,CAAC,GAAGhE,mBAAmBa,OAAvB,EAAgChB,cAAcgB,OAAd,CAAsBS,IAAtB,CAA2B,SAAS2C,QAAT,GAAoB;AACvF,uBAAOpE,cAAcgB,OAAd,CAAsBe,IAAtB,CAA2B,SAASsC,SAAT,CAAmBC,SAAnB,EAA8B;AAC5D,2BAAO,CAAP,EAAU;AACN,gCAAQA,UAAUpC,IAAV,GAAiBoC,UAAUnC,IAAnC;AACI,iCAAK,CAAL;AACI,oCAAI,CAAC,KAAKoC,MAAL,CAAY,KAAZ,CAAL,EAAyB;AACrBD,8CAAUnC,IAAV,GAAiB,CAAjB;AACA;AACH;;AAED,uCAAOmC,UAAU3B,MAAV,CAAiB,QAAjB,EAA2B,KAAKsB,QAAL,CAAc,aAAd,CAA3B,CAAP;;AAEJ,iCAAK,CAAL;AACI,qCAAKZ,YAAL,GAAoB,UAApB;;AAEJ,iCAAK,CAAL;AACA,iCAAK,KAAL;AACI,uCAAOiB,UAAUxB,IAAV,EAAP;AAdR;AAgBH;AACJ,iBAnBM,EAmBJsB,QAnBI,EAmBM,IAnBN,CAAP;AAoBH,aArB2C,CAAhC,CAAZ;;AAuBA,qBAASI,cAAT,GAA0B;AACtB,uBAAOL,MAAM/C,KAAN,CAAY,IAAZ,EAAkBC,SAAlB,CAAP;AACH;;AAED,mBAAOmD,cAAP;AACH,SA7BM;AAFR,KAjJgC,EAiLhC;AACClD,aAAK,aADN;AAECzB,eAAO,YAAY;AACf,gBAAI4E,QAAQ,CAAC,GAAGtE,mBAAmBa,OAAvB,EAAgChB,cAAcgB,OAAd,CAAsBS,IAAtB,CAA2B,SAASiD,QAAT,GAAoB;AACvF,uBAAO1E,cAAcgB,OAAd,CAAsBe,IAAtB,CAA2B,SAAS4C,SAAT,CAAmBC,SAAnB,EAA8B;AAC5D,2BAAO,CAAP,EAAU;AACN,gCAAQA,UAAU1C,IAAV,GAAiB0C,UAAUzC,IAAnC;AACI,iCAAK,CAAL;AACI,qCAAKkB,YAAL,GAAoB,KAApB;;AAEJ,iCAAK,CAAL;AACA,iCAAK,KAAL;AACI,uCAAOuB,UAAU9B,IAAV,EAAP;AANR;AAQH;AACJ,iBAXM,EAWJ4B,QAXI,EAWM,IAXN,CAAP;AAYH,aAb2C,CAAhC,CAAZ;;AAeA,qBAASG,WAAT,GAAuB;AACnB,uBAAOJ,MAAMrD,KAAN,CAAY,IAAZ,EAAkBC,SAAlB,CAAP;AACH;;AAED,mBAAOwD,WAAP;AACH,SArBM;AAFR,KAjLgC,EAyMhC;AACCvD,aAAK,uBADN;AAECzB,eAAO,YAAY;AACf,gBAAIiF,QAAQ,CAAC,GAAG3E,mBAAmBa,OAAvB,EAAgChB,cAAcgB,OAAd,CAAsBS,IAAtB,CAA2B,SAASsD,QAAT,GAAoB;AACvF,uBAAO/E,cAAcgB,OAAd,CAAsBe,IAAtB,CAA2B,SAASiD,SAAT,CAAmBC,SAAnB,EAA8B;AAC5D,2BAAO,CAAP,EAAU;AACN,gCAAQA,UAAU/C,IAAV,GAAiB+C,UAAU9C,IAAnC;AACI,iCAAK,CAAL;AACI,qCAAKkB,YAAL,GAAoB,MAApB;;AAEJ,iCAAK,CAAL;AACA,iCAAK,KAAL;AACI,uCAAO4B,UAAUnC,IAAV,EAAP;AANR;AAQH;AACJ,iBAXM,EAWJiC,QAXI,EAWM,IAXN,CAAP;AAYH,aAb2C,CAAhC,CAAZ;;AAeA,qBAASG,qBAAT,GAAiC;AAC7B,uBAAOJ,MAAM1D,KAAN,CAAY,IAAZ,EAAkBC,SAAlB,CAAP;AACH;;AAED,mBAAO6D,qBAAP;AACH,SArBM;AAFR,KAzMgC,EAiOhC;AACC5D,aAAK,cADN;AAECzB,eAAO,YAAY;AACf,gBAAIsF,QAAQ,CAAC,GAAGhF,mBAAmBa,OAAvB,EAAgChB,cAAcgB,OAAd,CAAsBS,IAAtB,CAA2B,SAAS2D,QAAT,GAAoB;AACvF,uBAAOpF,cAAcgB,OAAd,CAAsBe,IAAtB,CAA2B,SAASsD,SAAT,CAAmBC,SAAnB,EAA8B;AAC5D,2BAAO,CAAP,EAAU;AACN,gCAAQA,UAAUpD,IAAV,GAAiBoD,UAAUnD,IAAnC;AACI,iCAAK,CAAL;AACI,oCAAI,CAAC,KAAKoC,MAAL,CAAY,KAAZ,CAAL,EAAyB;AACrBe,8CAAUnD,IAAV,GAAiB,CAAjB;AACA;AACH;;AAED,uCAAOmD,UAAU3C,MAAV,CAAiB,QAAjB,EAA2B,KAAKsB,QAAL,CAAc,aAAd,CAA3B,CAAP;;AAEJ,iCAAK,CAAL;AACA,iCAAK,KAAL;AACI,uCAAOqB,UAAUxC,IAAV,EAAP;AAXR;AAaH;AACJ,iBAhBM,EAgBJsC,QAhBI,EAgBM,IAhBN,CAAP;AAiBH,aAlB2C,CAAhC,CAAZ;;AAoBA,qBAASG,YAAT,GAAwB;AACpB,uBAAOJ,MAAM/D,KAAN,CAAY,IAAZ,EAAkBC,SAAlB,CAAP;AACH;;AAED,mBAAOkE,YAAP;AACH,SA1BM;AAFR,KAjOgC,EA8PhC;AACCjE,aAAK,aADN;AAECzB,eAAO,YAAY;AACf,gBAAI2F,QAAQ,CAAC,GAAGrF,mBAAmBa,OAAvB,EAAgChB,cAAcgB,OAAd,CAAsBS,IAAtB,CAA2B,SAASgE,QAAT,GAAoB;AACvF,oBAAIC,KAAJ;AACA,uBAAO1F,cAAcgB,OAAd,CAAsBe,IAAtB,CAA2B,SAAS4D,SAAT,CAAmBC,SAAnB,EAA8B;AAC5D,2BAAO,CAAP,EAAU;AACN,gCAAQA,UAAU1D,IAAV,GAAiB0D,UAAUzD,IAAnC;AACI,iCAAK,CAAL;AACIyD,0CAAUzD,IAAV,GAAiB,CAAjB;AACA,uCAAO,KAAKU,OAAL,CAAa,OAAb,CAAP;;AAEJ,iCAAK,CAAL;AACI6C,wCAAQE,UAAUpD,IAAlB;;AAEA,oCAAIkD,KAAJ,EAAW;AACPE,8CAAUzD,IAAV,GAAiB,CAAjB;AACA;AACH;;AAED,uCAAOyD,UAAUjD,MAAV,CAAiB,QAAjB,EAA2B,KAAKsB,QAAL,CAAc,aAAd,CAA3B,CAAP;;AAEJ,iCAAK,CAAL;AACA,iCAAK,KAAL;AACI,uCAAO2B,UAAU9C,IAAV,EAAP;AAjBR;AAmBH;AACJ,iBAtBM,EAsBJ2C,QAtBI,EAsBM,IAtBN,CAAP;AAuBH,aAzB2C,CAAhC,CAAZ;;AA2BA,qBAASI,WAAT,GAAuB;AACnB,uBAAOL,MAAMpE,KAAN,CAAY,IAAZ,EAAkBC,SAAlB,CAAP;AACH;;AAED,mBAAOwE,WAAP;AACH,SAjCM;AAFR,KA9PgC,EAkShC;AACCvE,aAAK,qBADN;AAECzB,eAAO,YAAY;AACf,gBAAIiG,QAAQ,CAAC,GAAG3F,mBAAmBa,OAAvB,EAAgChB,cAAcgB,OAAd,CAAsBS,IAAtB,CAA2B,SAASsE,QAAT,GAAoB;AACvF,uBAAO/F,cAAcgB,OAAd,CAAsBe,IAAtB,CAA2B,SAASiE,SAAT,CAAmBC,SAAnB,EAA8B;AAC5D,2BAAO,CAAP,EAAU;AACN,gCAAQA,UAAU/D,IAAV,GAAiB+D,UAAU9D,IAAnC;AACI,iCAAK,CAAL;AACI,qCAAKkB,YAAL,GAAoB,MAApB;;AAEJ,iCAAK,CAAL;AACA,iCAAK,KAAL;AACI,uCAAO4C,UAAUnD,IAAV,EAAP;AANR;AAQH;AACJ,iBAXM,EAWJiD,QAXI,EAWM,IAXN,CAAP;AAYH,aAb2C,CAAhC,CAAZ;;AAeA,qBAASG,mBAAT,GAA+B;AAC3B,uBAAOJ,MAAM1E,KAAN,CAAY,IAAZ,EAAkBC,SAAlB,CAAP;AACH;;AAED,mBAAO6E,mBAAP;AACH,SArBM;AAFR,KAlSgC,CAAnC;AA2TA,WAAOjF,MAAP;AACH,CApUY,CAoUXwB,MAAM0D,KAAN,CAAYC,IApUD,CAAb;;AAsUAxG,QAAQoB,OAAR,GAAkBC,MAAlB;AACA","file":"user.js.js","sourcesContent":["/**\n * Created by fuyazhou on 17/7/11.\n */\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _regenerator = require('babel-runtime/regenerator');\n\nvar _regenerator2 = _interopRequireDefault(_regenerator);\n\nvar _asyncToGenerator2 = require('babel-runtime/helpers/asyncToGenerator');\n\nvar _asyncToGenerator3 = _interopRequireDefault(_asyncToGenerator2);\n\nvar _getPrototypeOf = require('babel-runtime/core-js/object/get-prototype-of');\n\nvar _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);\n\nvar _classCallCheck2 = require('babel-runtime/helpers/classCallCheck');\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = require('babel-runtime/helpers/createClass');\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = require('babel-runtime/helpers/possibleConstructorReturn');\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = require('babel-runtime/helpers/inherits');\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar _class = function (_think$logic$base) {\n    (0, _inherits3.default)(_class, _think$logic$base);\n\n    function _class() {\n        (0, _classCallCheck3.default)(this, _class);\n        return (0, _possibleConstructorReturn3.default)(this, (_class.__proto__ || (0, _getPrototypeOf2.default)(_class)).apply(this, arguments));\n    }\n\n    (0, _createClass3.default)(_class, [{\n        key: 'indexAction',\n        value: function indexAction() {}\n    }, {\n        key: 'getvfcodeAction',\n        value: function () {\n            var _ref = (0, _asyncToGenerator3.default)(_regenerator2.default.mark(function _callee() {\n                var userModel, account, isPhoneNumExist, _isPhoneNumExist;\n\n                return _regenerator2.default.wrap(function _callee$(_context) {\n                    while (1) {\n                        switch (_context.prev = _context.next) {\n                            case 0:\n                                userModel = this.model('user');\n                                account = this.post('account');\n\n                                if (!/verify/.test(this.header('Referer'))) {\n                                    _context.next = 14;\n                                    break;\n                                }\n\n                                _context.next = 5;\n                                return userModel.isPhoneNumExist(account);\n\n                            case 5:\n                                isPhoneNumExist = _context.sent;\n\n                                if (!think.isEmpty(isPhoneNumExist)) {\n                                    _context.next = 10;\n                                    break;\n                                }\n\n                                return _context.abrupt('return', this.fail('invalid account'));\n\n                            case 10:\n                                _context.next = 12;\n                                return this.session('reset', true);\n\n                            case 12:\n                                _context.next = 19;\n                                break;\n\n                            case 14:\n                                _context.next = 16;\n                                return userModel.isPhoneNumExist(account);\n\n                            case 16:\n                                _isPhoneNumExist = _context.sent;\n\n                                if (think.isEmpty(_isPhoneNumExist)) {\n                                    _context.next = 19;\n                                    break;\n                                }\n\n                                return _context.abrupt('return', this.fail('phone number exists!'));\n\n                            case 19:\n                            case 'end':\n                                return _context.stop();\n                        }\n                    }\n                }, _callee, this);\n            }));\n\n            function getvfcodeAction() {\n                return _ref.apply(this, arguments);\n            }\n\n            return getvfcodeAction;\n        }()\n    }, {\n        key: 'verifycodeAction',\n        value: function () {\n            var _ref2 = (0, _asyncToGenerator3.default)(_regenerator2.default.mark(function _callee2() {\n                var sessionCode;\n                return _regenerator2.default.wrap(function _callee2$(_context2) {\n                    while (1) {\n                        switch (_context2.prev = _context2.next) {\n                            case 0:\n                                this.allowMethods = 'get';\n                                _context2.next = 3;\n                                return this.session('code');\n\n                            case 3:\n                                sessionCode = _context2.sent;\n\n                                if (!(Number(this.get('code')) !== Number(sessionCode))) {\n                                    _context2.next = 6;\n                                    break;\n                                }\n\n                                return _context2.abrupt('return', this.fail('validate error', this.errors()));\n\n                            case 6:\n                            case 'end':\n                                return _context2.stop();\n                        }\n                    }\n                }, _callee2, this);\n            }));\n\n            function verifycodeAction() {\n                return _ref2.apply(this, arguments);\n            }\n\n            return verifycodeAction;\n        }()\n    }, {\n        key: 'passwordAction',\n        value: function () {\n            var _ref3 = (0, _asyncToGenerator3.default)(_regenerator2.default.mark(function _callee3() {\n                var code;\n                return _regenerator2.default.wrap(function _callee3$(_context3) {\n                    while (1) {\n                        switch (_context3.prev = _context3.next) {\n                            case 0:\n                                _context3.next = 2;\n                                return this.session('code');\n\n                            case 2:\n                                code = _context3.sent;\n\n                                console.log(code);\n\n                                if (code) {\n                                    _context3.next = 6;\n                                    break;\n                                }\n\n                                return _context3.abrupt('return', this.redirect('/user/index'));\n\n                            case 6:\n                            case 'end':\n                                return _context3.stop();\n                        }\n                    }\n                }, _callee3, this);\n            }));\n\n            function passwordAction() {\n                return _ref3.apply(this, arguments);\n            }\n\n            return passwordAction;\n        }()\n    }, {\n        key: 'registerAction',\n        value: function () {\n            var _ref4 = (0, _asyncToGenerator3.default)(_regenerator2.default.mark(function _callee4() {\n                return _regenerator2.default.wrap(function _callee4$(_context4) {\n                    while (1) {\n                        switch (_context4.prev = _context4.next) {\n                            case 0:\n                                if (!this.cookie('uid')) {\n                                    _context4.next = 2;\n                                    break;\n                                }\n\n                                return _context4.abrupt('return', this.redirect('/user/index'));\n\n                            case 2:\n                                this.allowMethods = 'get,post';\n\n                            case 3:\n                            case 'end':\n                                return _context4.stop();\n                        }\n                    }\n                }, _callee4, this);\n            }));\n\n            function registerAction() {\n                return _ref4.apply(this, arguments);\n            }\n\n            return registerAction;\n        }()\n    }, {\n        key: 'loginAction',\n        value: function () {\n            var _ref5 = (0, _asyncToGenerator3.default)(_regenerator2.default.mark(function _callee5() {\n                return _regenerator2.default.wrap(function _callee5$(_context5) {\n                    while (1) {\n                        switch (_context5.prev = _context5.next) {\n                            case 0:\n                                this.allowMethods = 'get';\n\n                            case 1:\n                            case 'end':\n                                return _context5.stop();\n                        }\n                    }\n                }, _callee5, this);\n            }));\n\n            function loginAction() {\n                return _ref5.apply(this, arguments);\n            }\n\n            return loginAction;\n        }()\n    }, {\n        key: 'loginintosystemAction',\n        value: function () {\n            var _ref6 = (0, _asyncToGenerator3.default)(_regenerator2.default.mark(function _callee6() {\n                return _regenerator2.default.wrap(function _callee6$(_context6) {\n                    while (1) {\n                        switch (_context6.prev = _context6.next) {\n                            case 0:\n                                this.allowMethods = 'post';\n\n                            case 1:\n                            case 'end':\n                                return _context6.stop();\n                        }\n                    }\n                }, _callee6, this);\n            }));\n\n            function loginintosystemAction() {\n                return _ref6.apply(this, arguments);\n            }\n\n            return loginintosystemAction;\n        }()\n    }, {\n        key: 'verifyAction',\n        value: function () {\n            var _ref7 = (0, _asyncToGenerator3.default)(_regenerator2.default.mark(function _callee7() {\n                return _regenerator2.default.wrap(function _callee7$(_context7) {\n                    while (1) {\n                        switch (_context7.prev = _context7.next) {\n                            case 0:\n                                if (!this.cookie('uid')) {\n                                    _context7.next = 2;\n                                    break;\n                                }\n\n                                return _context7.abrupt('return', this.redirect('/user/index'));\n\n                            case 2:\n                            case 'end':\n                                return _context7.stop();\n                        }\n                    }\n                }, _callee7, this);\n            }));\n\n            function verifyAction() {\n                return _ref7.apply(this, arguments);\n            }\n\n            return verifyAction;\n        }()\n    }, {\n        key: 'resetAction',\n        value: function () {\n            var _ref8 = (0, _asyncToGenerator3.default)(_regenerator2.default.mark(function _callee8() {\n                var reset;\n                return _regenerator2.default.wrap(function _callee8$(_context8) {\n                    while (1) {\n                        switch (_context8.prev = _context8.next) {\n                            case 0:\n                                _context8.next = 2;\n                                return this.session('reset');\n\n                            case 2:\n                                reset = _context8.sent;\n\n                                if (reset) {\n                                    _context8.next = 5;\n                                    break;\n                                }\n\n                                return _context8.abrupt('return', this.redirect('/user/index'));\n\n                            case 5:\n                            case 'end':\n                                return _context8.stop();\n                        }\n                    }\n                }, _callee8, this);\n            }));\n\n            function resetAction() {\n                return _ref8.apply(this, arguments);\n            }\n\n            return resetAction;\n        }()\n    }, {\n        key: 'resetpasswordAction',\n        value: function () {\n            var _ref9 = (0, _asyncToGenerator3.default)(_regenerator2.default.mark(function _callee9() {\n                return _regenerator2.default.wrap(function _callee9$(_context9) {\n                    while (1) {\n                        switch (_context9.prev = _context9.next) {\n                            case 0:\n                                this.allowMethods = 'post';\n\n                            case 1:\n                            case 'end':\n                                return _context9.stop();\n                        }\n                    }\n                }, _callee9, this);\n            }));\n\n            function resetpasswordAction() {\n                return _ref9.apply(this, arguments);\n            }\n\n            return resetpasswordAction;\n        }()\n    }]);\n    return _class;\n}(think.logic.base);\n\nexports.default = _class;\n//# sourceMappingURL=user.js.js.map"]}